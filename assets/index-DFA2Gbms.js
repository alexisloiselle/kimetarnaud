(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function hr(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const re={},Jt=[],Ye=()=>{},Qa=()=>!1,ds=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),pr=e=>e.startsWith("onUpdate:"),ye=Object.assign,gr=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Ya=Object.prototype.hasOwnProperty,G=(e,t)=>Ya.call(e,t),F=Array.isArray,Gt=e=>hs(e)==="[object Map]",ro=e=>hs(e)==="[object Set]",B=e=>typeof e=="function",ae=e=>typeof e=="string",at=e=>typeof e=="symbol",ie=e=>e!==null&&typeof e=="object",io=e=>(ie(e)||B(e))&&B(e.then)&&B(e.catch),oo=Object.prototype.toString,hs=e=>oo.call(e),Xa=e=>hs(e).slice(8,-1),ao=e=>hs(e)==="[object Object]",mr=e=>ae(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,xn=hr(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ps=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Za=/-(\w)/g,Le=ps(e=>e.replace(Za,(t,n)=>n?n.toUpperCase():"")),el=/\B([A-Z])/g,Lt=ps(e=>e.replace(el,"-$1").toLowerCase()),gs=ps(e=>e.charAt(0).toUpperCase()+e.slice(1)),Ts=ps(e=>e?`on${gs(e)}`:""),vt=(e,t)=>!Object.is(e,t),Ps=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},lo=(e,t,n,s=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:s,value:n})},tl=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let qr;const ms=()=>qr||(qr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function _r(e){if(F(e)){const t={};for(let n=0;n<e.length;n++){const s=e[n],r=ae(s)?il(s):_r(s);if(r)for(const i in r)t[i]=r[i]}return t}else if(ae(e)||ie(e))return e}const nl=/;(?![^(]*\))/g,sl=/:([^]+)/,rl=/\/\*[^]*?\*\//g;function il(e){const t={};return e.replace(rl,"").split(nl).forEach(n=>{if(n){const s=n.split(sl);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function qn(e){let t="";if(ae(e))t=e;else if(F(e))for(let n=0;n<e.length;n++){const s=qn(e[n]);s&&(t+=s+" ")}else if(ie(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const ol="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",al=hr(ol);function co(e){return!!e||e===""}const uo=e=>!!(e&&e.__v_isRef===!0),Qt=e=>ae(e)?e:e==null?"":F(e)||ie(e)&&(e.toString===oo||!B(e.toString))?uo(e)?Qt(e.value):JSON.stringify(e,fo,2):String(e),fo=(e,t)=>uo(t)?fo(e,t.value):Gt(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[s,r],i)=>(n[Os(s,i)+" =>"]=r,n),{})}:ro(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Os(n))}:at(t)?Os(t):ie(t)&&!F(t)&&!ao(t)?String(t):t,Os=(e,t="")=>{var n;return at(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ce;class ll{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ce,!t&&Ce&&(this.index=(Ce.scopes||(Ce.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=Ce;try{return Ce=this,t()}finally{Ce=n}}}on(){Ce=this}off(){Ce=this.parent}stop(t){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function cl(){return Ce}let se;const Rs=new WeakSet;class ho{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ce&&Ce.active&&Ce.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Rs.has(this)&&(Rs.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||go(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Vr(this),mo(this);const t=se,n=Me;se=this,Me=!0;try{return this.fn()}finally{_o(this),se=t,Me=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)wr(t);this.deps=this.depsTail=void 0,Vr(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Rs.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Hs(this)&&this.run()}get dirty(){return Hs(this)}}let po=0,kn,Tn;function go(e,t=!1){if(e.flags|=8,t){e.next=Tn,Tn=e;return}e.next=kn,kn=e}function yr(){po++}function br(){if(--po>0)return;if(Tn){let t=Tn;for(Tn=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;kn;){let t=kn;for(kn=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(s){e||(e=s)}t=n}}if(e)throw e}function mo(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function _o(e){let t,n=e.depsTail,s=n;for(;s;){const r=s.prevDep;s.version===-1?(s===n&&(n=r),wr(s),ul(s)):t=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=r}e.deps=t,e.depsTail=n}function Hs(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(yo(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function yo(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===jn))return;e.globalVersion=jn;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!Hs(e)){e.flags&=-3;return}const n=se,s=Me;se=e,Me=!0;try{mo(e);const r=e.fn(e._value);(t.version===0||vt(r,e._value))&&(e._value=r,t.version++)}catch(r){throw t.version++,r}finally{se=n,Me=s,_o(e),e.flags&=-3}}function wr(e,t=!1){const{dep:n,prevSub:s,nextSub:r}=e;if(s&&(s.nextSub=r,e.prevSub=void 0),r&&(r.prevSub=s,e.nextSub=void 0),n.subs===e&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)wr(i,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function ul(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let Me=!0;const bo=[];function Et(){bo.push(Me),Me=!1}function xt(){const e=bo.pop();Me=e===void 0?!0:e}function Vr(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=se;se=void 0;try{t()}finally{se=n}}}let jn=0;class fl{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class vr{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!se||!Me||se===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==se)n=this.activeLink=new fl(se,this),se.deps?(n.prevDep=se.depsTail,se.depsTail.nextDep=n,se.depsTail=n):se.deps=se.depsTail=n,wo(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=se.depsTail,n.nextDep=void 0,se.depsTail.nextDep=n,se.depsTail=n,se.deps===n&&(se.deps=s)}return n}trigger(t){this.version++,jn++,this.notify(t)}notify(t){yr();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{br()}}}function wo(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let s=t.deps;s;s=s.nextDep)wo(s)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const Ks=new WeakMap,$t=Symbol(""),zs=Symbol(""),In=Symbol("");function pe(e,t,n){if(Me&&se){let s=Ks.get(e);s||Ks.set(e,s=new Map);let r=s.get(n);r||(s.set(n,r=new vr),r.map=s,r.key=n),r.track()}}function ot(e,t,n,s,r,i){const o=Ks.get(e);if(!o){jn++;return}const a=l=>{l&&l.trigger()};if(yr(),t==="clear")o.forEach(a);else{const l=F(e),u=l&&mr(n);if(l&&n==="length"){const c=Number(s);o.forEach((f,h)=>{(h==="length"||h===In||!at(h)&&h>=c)&&a(f)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),u&&a(o.get(In)),t){case"add":l?u&&a(o.get("length")):(a(o.get($t)),Gt(e)&&a(o.get(zs)));break;case"delete":l||(a(o.get($t)),Gt(e)&&a(o.get(zs)));break;case"set":Gt(e)&&a(o.get($t));break}}br()}function qt(e){const t=J(e);return t===e?t:(pe(t,"iterate",In),Ie(e)?t:t.map(ge))}function _s(e){return pe(e=J(e),"iterate",In),e}const dl={__proto__:null,[Symbol.iterator](){return Cs(this,Symbol.iterator,ge)},concat(...e){return qt(this).concat(...e.map(t=>F(t)?qt(t):t))},entries(){return Cs(this,"entries",e=>(e[1]=ge(e[1]),e))},every(e,t){return nt(this,"every",e,t,void 0,arguments)},filter(e,t){return nt(this,"filter",e,t,n=>n.map(ge),arguments)},find(e,t){return nt(this,"find",e,t,ge,arguments)},findIndex(e,t){return nt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return nt(this,"findLast",e,t,ge,arguments)},findLastIndex(e,t){return nt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return nt(this,"forEach",e,t,void 0,arguments)},includes(...e){return As(this,"includes",e)},indexOf(...e){return As(this,"indexOf",e)},join(e){return qt(this).join(e)},lastIndexOf(...e){return As(this,"lastIndexOf",e)},map(e,t){return nt(this,"map",e,t,void 0,arguments)},pop(){return fn(this,"pop")},push(...e){return fn(this,"push",e)},reduce(e,...t){return Hr(this,"reduce",e,t)},reduceRight(e,...t){return Hr(this,"reduceRight",e,t)},shift(){return fn(this,"shift")},some(e,t){return nt(this,"some",e,t,void 0,arguments)},splice(...e){return fn(this,"splice",e)},toReversed(){return qt(this).toReversed()},toSorted(e){return qt(this).toSorted(e)},toSpliced(...e){return qt(this).toSpliced(...e)},unshift(...e){return fn(this,"unshift",e)},values(){return Cs(this,"values",ge)}};function Cs(e,t,n){const s=_s(e),r=s[t]();return s!==e&&!Ie(e)&&(r._next=r.next,r.next=()=>{const i=r._next();return i.value&&(i.value=n(i.value)),i}),r}const hl=Array.prototype;function nt(e,t,n,s,r,i){const o=_s(e),a=o!==e&&!Ie(e),l=o[t];if(l!==hl[t]){const f=l.apply(e,i);return a?ge(f):f}let u=n;o!==e&&(a?u=function(f,h){return n.call(this,ge(f),h,e)}:n.length>2&&(u=function(f,h){return n.call(this,f,h,e)}));const c=l.call(o,u,s);return a&&r?r(c):c}function Hr(e,t,n,s){const r=_s(e);let i=n;return r!==e&&(Ie(e)?n.length>3&&(i=function(o,a,l){return n.call(this,o,a,l,e)}):i=function(o,a,l){return n.call(this,o,ge(a),l,e)}),r[t](i,...s)}function As(e,t,n){const s=J(e);pe(s,"iterate",In);const r=s[t](...n);return(r===-1||r===!1)&&xr(n[0])?(n[0]=J(n[0]),s[t](...n)):r}function fn(e,t,n=[]){Et(),yr();const s=J(e)[t].apply(e,n);return br(),xt(),s}const pl=hr("__proto__,__v_isRef,__isVue"),vo=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(at));function gl(e){at(e)||(e=String(e));const t=J(this);return pe(t,"has",e),t.hasOwnProperty(e)}class So{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,s){if(n==="__v_skip")return t.__v_skip;const r=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return i;if(n==="__v_raw")return s===(r?i?kl:To:i?ko:xo).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const o=F(t);if(!r){let l;if(o&&(l=dl[n]))return l;if(n==="hasOwnProperty")return gl}const a=Reflect.get(t,n,_e(t)?t:s);return(at(n)?vo.has(n):pl(n))||(r||pe(t,"get",n),i)?a:_e(a)?o&&mr(n)?a:a.value:ie(a)?r?Oo(a):ys(a):a}}class Eo extends So{constructor(t=!1){super(!1,t)}set(t,n,s,r){let i=t[n];if(!this._isShallow){const l=It(i);if(!Ie(s)&&!It(s)&&(i=J(i),s=J(s)),!F(t)&&_e(i)&&!_e(s))return l?!1:(i.value=s,!0)}const o=F(t)&&mr(n)?Number(n)<t.length:G(t,n),a=Reflect.set(t,n,s,_e(t)?t:r);return t===J(r)&&(o?vt(s,i)&&ot(t,"set",n,s):ot(t,"add",n,s)),a}deleteProperty(t,n){const s=G(t,n);t[n];const r=Reflect.deleteProperty(t,n);return r&&s&&ot(t,"delete",n,void 0),r}has(t,n){const s=Reflect.has(t,n);return(!at(n)||!vo.has(n))&&pe(t,"has",n),s}ownKeys(t){return pe(t,"iterate",F(t)?"length":$t),Reflect.ownKeys(t)}}class ml extends So{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const _l=new Eo,yl=new ml,bl=new Eo(!0);const Ws=e=>e,Wn=e=>Reflect.getPrototypeOf(e);function wl(e,t,n){return function(...s){const r=this.__v_raw,i=J(r),o=Gt(i),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,u=r[e](...s),c=n?Ws:t?Js:ge;return!t&&pe(i,"iterate",l?zs:$t),{next(){const{value:f,done:h}=u.next();return h?{value:f,done:h}:{value:a?[c(f[0]),c(f[1])]:c(f),done:h}},[Symbol.iterator](){return this}}}}function Jn(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function vl(e,t){const n={get(r){const i=this.__v_raw,o=J(i),a=J(r);e||(vt(r,a)&&pe(o,"get",r),pe(o,"get",a));const{has:l}=Wn(o),u=t?Ws:e?Js:ge;if(l.call(o,r))return u(i.get(r));if(l.call(o,a))return u(i.get(a));i!==o&&i.get(r)},get size(){const r=this.__v_raw;return!e&&pe(J(r),"iterate",$t),Reflect.get(r,"size",r)},has(r){const i=this.__v_raw,o=J(i),a=J(r);return e||(vt(r,a)&&pe(o,"has",r),pe(o,"has",a)),r===a?i.has(r):i.has(r)||i.has(a)},forEach(r,i){const o=this,a=o.__v_raw,l=J(a),u=t?Ws:e?Js:ge;return!e&&pe(l,"iterate",$t),a.forEach((c,f)=>r.call(i,u(c),u(f),o))}};return ye(n,e?{add:Jn("add"),set:Jn("set"),delete:Jn("delete"),clear:Jn("clear")}:{add(r){!t&&!Ie(r)&&!It(r)&&(r=J(r));const i=J(this);return Wn(i).has.call(i,r)||(i.add(r),ot(i,"add",r,r)),this},set(r,i){!t&&!Ie(i)&&!It(i)&&(i=J(i));const o=J(this),{has:a,get:l}=Wn(o);let u=a.call(o,r);u||(r=J(r),u=a.call(o,r));const c=l.call(o,r);return o.set(r,i),u?vt(i,c)&&ot(o,"set",r,i):ot(o,"add",r,i),this},delete(r){const i=J(this),{has:o,get:a}=Wn(i);let l=o.call(i,r);l||(r=J(r),l=o.call(i,r)),a&&a.call(i,r);const u=i.delete(r);return l&&ot(i,"delete",r,void 0),u},clear(){const r=J(this),i=r.size!==0,o=r.clear();return i&&ot(r,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=wl(r,e,t)}),n}function Sr(e,t){const n=vl(e,t);return(s,r,i)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?s:Reflect.get(G(n,r)&&r in s?n:s,r,i)}const Sl={get:Sr(!1,!1)},El={get:Sr(!1,!0)},xl={get:Sr(!0,!1)};const xo=new WeakMap,ko=new WeakMap,To=new WeakMap,kl=new WeakMap;function Tl(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Pl(e){return e.__v_skip||!Object.isExtensible(e)?0:Tl(Xa(e))}function ys(e){return It(e)?e:Er(e,!1,_l,Sl,xo)}function Po(e){return Er(e,!1,bl,El,ko)}function Oo(e){return Er(e,!0,yl,xl,To)}function Er(e,t,n,s,r){if(!ie(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=r.get(e);if(i)return i;const o=Pl(e);if(o===0)return e;const a=new Proxy(e,o===2?s:n);return r.set(e,a),a}function Yt(e){return It(e)?Yt(e.__v_raw):!!(e&&e.__v_isReactive)}function It(e){return!!(e&&e.__v_isReadonly)}function Ie(e){return!!(e&&e.__v_isShallow)}function xr(e){return e?!!e.__v_raw:!1}function J(e){const t=e&&e.__v_raw;return t?J(t):e}function Ol(e){return!G(e,"__v_skip")&&Object.isExtensible(e)&&lo(e,"__v_skip",!0),e}const ge=e=>ie(e)?ys(e):e,Js=e=>ie(e)?Oo(e):e;function _e(e){return e?e.__v_isRef===!0:!1}function Gs(e){return Ro(e,!1)}function Rl(e){return Ro(e,!0)}function Ro(e,t){return _e(e)?e:new Cl(e,t)}class Cl{constructor(t,n){this.dep=new vr,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:J(t),this._value=n?t:ge(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,s=this.__v_isShallow||Ie(t)||It(t);t=s?t:J(t),vt(t,n)&&(this._rawValue=t,this._value=s?t:ge(t),this.dep.trigger())}}function jt(e){return _e(e)?e.value:e}const Al={get:(e,t,n)=>t==="__v_raw"?e:jt(Reflect.get(e,t,n)),set:(e,t,n,s)=>{const r=e[t];return _e(r)&&!_e(n)?(r.value=n,!0):Reflect.set(e,t,n,s)}};function Co(e){return Yt(e)?e:new Proxy(e,Al)}class $l{constructor(t,n,s){this.fn=t,this.setter=n,this._value=void 0,this.dep=new vr(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=jn-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&se!==this)return go(this,!0),!0}get value(){const t=this.dep.track();return yo(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function jl(e,t,n=!1){let s,r;return B(e)?s=e:(s=e.get,r=e.set),new $l(s,r,n)}const Gn={},is=new WeakMap;let Rt;function Il(e,t=!1,n=Rt){if(n){let s=is.get(n);s||is.set(n,s=[]),s.push(e)}}function Ll(e,t,n=re){const{immediate:s,deep:r,once:i,scheduler:o,augmentJob:a,call:l}=n,u=P=>r?P:Ie(P)||r===!1||r===0?bt(P,1):bt(P);let c,f,h,g,b=!1,S=!1;if(_e(e)?(f=()=>e.value,b=Ie(e)):Yt(e)?(f=()=>u(e),b=!0):F(e)?(S=!0,b=e.some(P=>Yt(P)||Ie(P)),f=()=>e.map(P=>{if(_e(P))return P.value;if(Yt(P))return u(P);if(B(P))return l?l(P,2):P()})):B(e)?t?f=l?()=>l(e,2):e:f=()=>{if(h){Et();try{h()}finally{xt()}}const P=Rt;Rt=c;try{return l?l(e,3,[g]):e(g)}finally{Rt=P}}:f=Ye,t&&r){const P=f,N=r===!0?1/0:r;f=()=>bt(P(),N)}const x=cl(),$=()=>{c.stop(),x&&x.active&&gr(x.effects,c)};if(i&&t){const P=t;t=(...N)=>{P(...N),$()}}let j=S?new Array(e.length).fill(Gn):Gn;const A=P=>{if(!(!(c.flags&1)||!c.dirty&&!P))if(t){const N=c.run();if(r||b||(S?N.some((fe,oe)=>vt(fe,j[oe])):vt(N,j))){h&&h();const fe=Rt;Rt=c;try{const oe=[N,j===Gn?void 0:S&&j[0]===Gn?[]:j,g];l?l(t,3,oe):t(...oe),j=N}finally{Rt=fe}}}else c.run()};return a&&a(A),c=new ho(f),c.scheduler=o?()=>o(A,!1):A,g=P=>Il(P,!1,c),h=c.onStop=()=>{const P=is.get(c);if(P){if(l)l(P,4);else for(const N of P)N();is.delete(c)}},t?s?A(!0):j=c.run():o?o(A.bind(null,!0),!0):c.run(),$.pause=c.pause.bind(c),$.resume=c.resume.bind(c),$.stop=$,$}function bt(e,t=1/0,n){if(t<=0||!ie(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,_e(e))bt(e.value,t,n);else if(F(e))for(let s=0;s<e.length;s++)bt(e[s],t,n);else if(ro(e)||Gt(e))e.forEach(s=>{bt(s,t,n)});else if(ao(e)){for(const s in e)bt(e[s],t,n);for(const s of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,s)&&bt(e[s],t,n)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Vn(e,t,n,s){try{return s?e(...s):e()}catch(r){bs(r,t,n)}}function et(e,t,n,s){if(B(e)){const r=Vn(e,t,n,s);return r&&io(r)&&r.catch(i=>{bs(i,t,n)}),r}if(F(e)){const r=[];for(let i=0;i<e.length;i++)r.push(et(e[i],t,n,s));return r}}function bs(e,t,n,s=!0){const r=t?t.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||re;if(t){let a=t.parent;const l=t.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const c=a.ec;if(c){for(let f=0;f<c.length;f++)if(c[f](e,l,u)===!1)return}a=a.parent}if(i){Et(),Vn(i,null,10,[e,l,u]),xt();return}}Dl(e,n,r,s,o)}function Dl(e,t,n,s=!0,r=!1){if(r)throw e;console.error(e)}const we=[];let Ge=-1;const Xt=[];let gt=null,zt=0;const Ao=Promise.resolve();let os=null;function $o(e){const t=os||Ao;return e?t.then(this?e.bind(this):e):t}function Ml(e){let t=Ge+1,n=we.length;for(;t<n;){const s=t+n>>>1,r=we[s],i=Ln(r);i<e||i===e&&r.flags&2?t=s+1:n=s}return t}function kr(e){if(!(e.flags&1)){const t=Ln(e),n=we[we.length-1];!n||!(e.flags&2)&&t>=Ln(n)?we.push(e):we.splice(Ml(t),0,e),e.flags|=1,jo()}}function jo(){os||(os=Ao.then(Lo))}function Ul(e){F(e)?Xt.push(...e):gt&&e.id===-1?gt.splice(zt+1,0,e):e.flags&1||(Xt.push(e),e.flags|=1),jo()}function Kr(e,t,n=Ge+1){for(;n<we.length;n++){const s=we[n];if(s&&s.flags&2){if(e&&s.id!==e.uid)continue;we.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function Io(e){if(Xt.length){const t=[...new Set(Xt)].sort((n,s)=>Ln(n)-Ln(s));if(Xt.length=0,gt){gt.push(...t);return}for(gt=t,zt=0;zt<gt.length;zt++){const n=gt[zt];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}gt=null,zt=0}}const Ln=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Lo(e){try{for(Ge=0;Ge<we.length;Ge++){const t=we[Ge];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Vn(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Ge<we.length;Ge++){const t=we[Ge];t&&(t.flags&=-2)}Ge=-1,we.length=0,Io(),os=null,(we.length||Xt.length)&&Lo()}}let ve=null,Do=null;function as(e){const t=ve;return ve=e,Do=e&&e.type.__scopeId||null,t}function Xe(e,t=ve,n){if(!t||e._n)return e;const s=(...r)=>{s._d&&ti(-1);const i=as(t);let o;try{o=e(...r)}finally{as(i),s._d&&ti(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function Tt(e,t,n,s){const r=e.dirs,i=t&&t.dirs;for(let o=0;o<r.length;o++){const a=r[o];i&&(a.oldValue=i[o].value);let l=a.dir[s];l&&(Et(),et(l,n,8,[e.el,a,e,t]),xt())}}const Nl=Symbol("_vte"),Fl=e=>e.__isTeleport;function Tr(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Tr(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function he(e,t){return B(e)?ye({name:e.name},t,{setup:e}):e}function Mo(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function ls(e,t,n,s,r=!1){if(F(e)){e.forEach((b,S)=>ls(b,t&&(F(t)?t[S]:t),n,s,r));return}if(Zt(s)&&!r){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&ls(e,t,n,s.component.subTree);return}const i=s.shapeFlag&4?Cr(s.component):s.el,o=r?null:i,{i:a,r:l}=e,u=t&&t.r,c=a.refs===re?a.refs={}:a.refs,f=a.setupState,h=J(f),g=f===re?()=>!1:b=>G(h,b);if(u!=null&&u!==l&&(ae(u)?(c[u]=null,g(u)&&(f[u]=null)):_e(u)&&(u.value=null)),B(l))Vn(l,a,12,[o,c]);else{const b=ae(l),S=_e(l);if(b||S){const x=()=>{if(e.f){const $=b?g(l)?f[l]:c[l]:l.value;r?F($)&&gr($,i):F($)?$.includes(i)||$.push(i):b?(c[l]=[i],g(l)&&(f[l]=c[l])):(l.value=[i],e.k&&(c[e.k]=l.value))}else b?(c[l]=o,g(l)&&(f[l]=o)):S&&(l.value=o,e.k&&(c[e.k]=o))};o?(x.id=-1,Oe(x,n)):x()}}}ms().requestIdleCallback;ms().cancelIdleCallback;const Zt=e=>!!e.type.__asyncLoader,Uo=e=>e.type.__isKeepAlive;function Bl(e,t){No(e,"a",t)}function ql(e,t){No(e,"da",t)}function No(e,t,n=me){const s=e.__wdc||(e.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(ws(t,s,n),n){let r=n.parent;for(;r&&r.parent;)Uo(r.parent.vnode)&&Vl(s,t,n,r),r=r.parent}}function Vl(e,t,n,s){const r=ws(t,e,s,!0);Fo(()=>{gr(s[t],r)},n)}function ws(e,t,n=me,s=!1){if(n){const r=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...o)=>{Et();const a=Hn(n),l=et(t,n,e,o);return a(),xt(),l});return s?r.unshift(i):r.push(i),i}}const lt=e=>(t,n=me)=>{(!Un||e==="sp")&&ws(e,(...s)=>t(...s),n)},Hl=lt("bm"),Kl=lt("m"),zl=lt("bu"),Wl=lt("u"),Jl=lt("bum"),Fo=lt("um"),Gl=lt("sp"),Ql=lt("rtg"),Yl=lt("rtc");function Xl(e,t=me){ws("ec",e,t)}const Zl="components";function Bo(e,t){return tc(Zl,e,!0,t)||e}const ec=Symbol.for("v-ndc");function tc(e,t,n=!0,s=!1){const r=ve||me;if(r){const i=r.type;{const a=qc(i,!1);if(a&&(a===t||a===Le(t)||a===gs(Le(t))))return i}const o=zr(r[e]||i[e],t)||zr(r.appContext[e],t);return!o&&s?i:o}}function zr(e,t){return e&&(e[t]||e[Le(t)]||e[gs(Le(t))])}function nc(e,t,n,s){let r;const i=n,o=F(e);if(o||ae(e)){const a=o&&Yt(e);let l=!1;a&&(l=!Ie(e),e=_s(e)),r=new Array(e.length);for(let u=0,c=e.length;u<c;u++)r[u]=t(l?ge(e[u]):e[u],u,void 0,i)}else if(typeof e=="number"){r=new Array(e);for(let a=0;a<e;a++)r[a]=t(a+1,a,void 0,i)}else if(ie(e))if(e[Symbol.iterator])r=Array.from(e,(a,l)=>t(a,l,void 0,i));else{const a=Object.keys(e);r=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const c=a[l];r[l]=t(e[c],c,l,i)}}else r=[];return r}function Qs(e,t,n={},s,r){if(ve.ce||ve.parent&&Zt(ve.parent)&&ve.parent.ce)return t!=="default"&&(n.name=t),Y(),Ue(ke,null,[K("slot",n,s)],64);let i=e[t];i&&i._c&&(i._d=!1),Y();const o=i&&qo(i(n)),a=n.key||o&&o.key,l=Ue(ke,{key:(a&&!at(a)?a:`_${t}`)+""},o||[],o&&e._===1?64:-2);return l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),i&&i._c&&(i._d=!0),l}function qo(e){return e.some(t=>Mn(t)?!(t.type===St||t.type===ke&&!qo(t.children)):!0)?e:null}const Ys=e=>e?ca(e)?Cr(e):Ys(e.parent):null,Pn=ye(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Ys(e.parent),$root:e=>Ys(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Ho(e),$forceUpdate:e=>e.f||(e.f=()=>{kr(e.update)}),$nextTick:e=>e.n||(e.n=$o.bind(e.proxy)),$watch:e=>Ec.bind(e)}),$s=(e,t)=>e!==re&&!e.__isScriptSetup&&G(e,t),sc={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:s,data:r,props:i,accessCache:o,type:a,appContext:l}=e;let u;if(t[0]!=="$"){const g=o[t];if(g!==void 0)switch(g){case 1:return s[t];case 2:return r[t];case 4:return n[t];case 3:return i[t]}else{if($s(s,t))return o[t]=1,s[t];if(r!==re&&G(r,t))return o[t]=2,r[t];if((u=e.propsOptions[0])&&G(u,t))return o[t]=3,i[t];if(n!==re&&G(n,t))return o[t]=4,n[t];Xs&&(o[t]=0)}}const c=Pn[t];let f,h;if(c)return t==="$attrs"&&pe(e.attrs,"get",""),c(e);if((f=a.__cssModules)&&(f=f[t]))return f;if(n!==re&&G(n,t))return o[t]=4,n[t];if(h=l.config.globalProperties,G(h,t))return h[t]},set({_:e},t,n){const{data:s,setupState:r,ctx:i}=e;return $s(r,t)?(r[t]=n,!0):s!==re&&G(s,t)?(s[t]=n,!0):G(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:s,appContext:r,propsOptions:i}},o){let a;return!!n[o]||e!==re&&G(e,o)||$s(t,o)||(a=i[0])&&G(a,o)||G(s,o)||G(Pn,o)||G(r.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:G(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Wr(e){return F(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Xs=!0;function rc(e){const t=Ho(e),n=e.proxy,s=e.ctx;Xs=!1,t.beforeCreate&&Jr(t.beforeCreate,e,"bc");const{data:r,computed:i,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:f,mounted:h,beforeUpdate:g,updated:b,activated:S,deactivated:x,beforeDestroy:$,beforeUnmount:j,destroyed:A,unmounted:P,render:N,renderTracked:fe,renderTriggered:oe,errorCaptured:Fe,serverPrefetch:ct,expose:Be,inheritAttrs:ut,components:kt,directives:qe,filters:cn}=t;if(u&&ic(u,s,null),o)for(const Z in o){const z=o[Z];B(z)&&(s[Z]=z.bind(n))}if(r){const Z=r.call(n,n);ie(Z)&&(e.data=ys(Z))}if(Xs=!0,i)for(const Z in i){const z=i[Z],tt=B(z)?z.bind(n,n):B(z.get)?z.get.bind(n,n):Ye,ft=!B(z)&&B(z.set)?z.set.bind(n):Ye,Ve=Ae({get:tt,set:ft});Object.defineProperty(s,Z,{enumerable:!0,configurable:!0,get:()=>Ve.value,set:Se=>Ve.value=Se})}if(a)for(const Z in a)Vo(a[Z],s,n,Z);if(l){const Z=B(l)?l.call(n):l;Reflect.ownKeys(Z).forEach(z=>{ts(z,Z[z])})}c&&Jr(c,e,"c");function ce(Z,z){F(z)?z.forEach(tt=>Z(tt.bind(n))):z&&Z(z.bind(n))}if(ce(Hl,f),ce(Kl,h),ce(zl,g),ce(Wl,b),ce(Bl,S),ce(ql,x),ce(Xl,Fe),ce(Yl,fe),ce(Ql,oe),ce(Jl,j),ce(Fo,P),ce(Gl,ct),F(Be))if(Be.length){const Z=e.exposed||(e.exposed={});Be.forEach(z=>{Object.defineProperty(Z,z,{get:()=>n[z],set:tt=>n[z]=tt})})}else e.exposed||(e.exposed={});N&&e.render===Ye&&(e.render=N),ut!=null&&(e.inheritAttrs=ut),kt&&(e.components=kt),qe&&(e.directives=qe),ct&&Mo(e)}function ic(e,t,n=Ye){F(e)&&(e=Zs(e));for(const s in e){const r=e[s];let i;ie(r)?"default"in r?i=Ze(r.from||s,r.default,!0):i=Ze(r.from||s):i=Ze(r),_e(i)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):t[s]=i}}function Jr(e,t,n){et(F(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,n)}function Vo(e,t,n,s){let r=s.includes(".")?ra(n,s):()=>n[s];if(ae(e)){const i=t[e];B(i)&&ns(r,i)}else if(B(e))ns(r,e.bind(n));else if(ie(e))if(F(e))e.forEach(i=>Vo(i,t,n,s));else{const i=B(e.handler)?e.handler.bind(n):t[e.handler];B(i)&&ns(r,i,e)}}function Ho(e){const t=e.type,{mixins:n,extends:s}=t,{mixins:r,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,a=i.get(t);let l;return a?l=a:!r.length&&!n&&!s?l=t:(l={},r.length&&r.forEach(u=>cs(l,u,o,!0)),cs(l,t,o)),ie(t)&&i.set(t,l),l}function cs(e,t,n,s=!1){const{mixins:r,extends:i}=t;i&&cs(e,i,n,!0),r&&r.forEach(o=>cs(e,o,n,!0));for(const o in t)if(!(s&&o==="expose")){const a=oc[o]||n&&n[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const oc={data:Gr,props:Qr,emits:Qr,methods:Sn,computed:Sn,beforeCreate:be,created:be,beforeMount:be,mounted:be,beforeUpdate:be,updated:be,beforeDestroy:be,beforeUnmount:be,destroyed:be,unmounted:be,activated:be,deactivated:be,errorCaptured:be,serverPrefetch:be,components:Sn,directives:Sn,watch:lc,provide:Gr,inject:ac};function Gr(e,t){return t?e?function(){return ye(B(e)?e.call(this,this):e,B(t)?t.call(this,this):t)}:t:e}function ac(e,t){return Sn(Zs(e),Zs(t))}function Zs(e){if(F(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function be(e,t){return e?[...new Set([].concat(e,t))]:t}function Sn(e,t){return e?ye(Object.create(null),e,t):t}function Qr(e,t){return e?F(e)&&F(t)?[...new Set([...e,...t])]:ye(Object.create(null),Wr(e),Wr(t??{})):t}function lc(e,t){if(!e)return t;if(!t)return e;const n=ye(Object.create(null),e);for(const s in t)n[s]=be(e[s],t[s]);return n}function Ko(){return{app:null,config:{isNativeTag:Qa,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let cc=0;function uc(e,t){return function(s,r=null){B(s)||(s=ye({},s)),r!=null&&!ie(r)&&(r=null);const i=Ko(),o=new WeakSet,a=[];let l=!1;const u=i.app={_uid:cc++,_component:s,_props:r,_container:null,_context:i,_instance:null,version:Hc,get config(){return i.config},set config(c){},use(c,...f){return o.has(c)||(c&&B(c.install)?(o.add(c),c.install(u,...f)):B(c)&&(o.add(c),c(u,...f))),u},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),u},component(c,f){return f?(i.components[c]=f,u):i.components[c]},directive(c,f){return f?(i.directives[c]=f,u):i.directives[c]},mount(c,f,h){if(!l){const g=u._ceVNode||K(s,r);return g.appContext=i,h===!0?h="svg":h===!1&&(h=void 0),e(g,c,h),l=!0,u._container=c,c.__vue_app__=u,Cr(g.component)}},onUnmount(c){a.push(c)},unmount(){l&&(et(a,u._instance,16),e(null,u._container),delete u._container.__vue_app__)},provide(c,f){return i.provides[c]=f,u},runWithContext(c){const f=en;en=u;try{return c()}finally{en=f}}};return u}}let en=null;function ts(e,t){if(me){let n=me.provides;const s=me.parent&&me.parent.provides;s===n&&(n=me.provides=Object.create(s)),n[e]=t}}function Ze(e,t,n=!1){const s=me||ve;if(s||en){const r=en?en._context.provides:s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(r&&e in r)return r[e];if(arguments.length>1)return n&&B(t)?t.call(s&&s.proxy):t}}const zo={},Wo=()=>Object.create(zo),Jo=e=>Object.getPrototypeOf(e)===zo;function fc(e,t,n,s=!1){const r={},i=Wo();e.propsDefaults=Object.create(null),Go(e,t,r,i);for(const o in e.propsOptions[0])o in r||(r[o]=void 0);n?e.props=s?r:Po(r):e.type.props?e.props=r:e.props=i,e.attrs=i}function dc(e,t,n,s){const{props:r,attrs:i,vnode:{patchFlag:o}}=e,a=J(r),[l]=e.propsOptions;let u=!1;if((s||o>0)&&!(o&16)){if(o&8){const c=e.vnode.dynamicProps;for(let f=0;f<c.length;f++){let h=c[f];if(vs(e.emitsOptions,h))continue;const g=t[h];if(l)if(G(i,h))g!==i[h]&&(i[h]=g,u=!0);else{const b=Le(h);r[b]=er(l,a,b,g,e,!1)}else g!==i[h]&&(i[h]=g,u=!0)}}}else{Go(e,t,r,i)&&(u=!0);let c;for(const f in a)(!t||!G(t,f)&&((c=Lt(f))===f||!G(t,c)))&&(l?n&&(n[f]!==void 0||n[c]!==void 0)&&(r[f]=er(l,a,f,void 0,e,!0)):delete r[f]);if(i!==a)for(const f in i)(!t||!G(t,f))&&(delete i[f],u=!0)}u&&ot(e.attrs,"set","")}function Go(e,t,n,s){const[r,i]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(xn(l))continue;const u=t[l];let c;r&&G(r,c=Le(l))?!i||!i.includes(c)?n[c]=u:(a||(a={}))[c]=u:vs(e.emitsOptions,l)||(!(l in s)||u!==s[l])&&(s[l]=u,o=!0)}if(i){const l=J(n),u=a||re;for(let c=0;c<i.length;c++){const f=i[c];n[f]=er(r,l,f,u[f],e,!G(u,f))}}return o}function er(e,t,n,s,r,i){const o=e[n];if(o!=null){const a=G(o,"default");if(a&&s===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&B(l)){const{propsDefaults:u}=r;if(n in u)s=u[n];else{const c=Hn(r);s=u[n]=l.call(null,t),c()}}else s=l;r.ce&&r.ce._setProp(n,s)}o[0]&&(i&&!a?s=!1:o[1]&&(s===""||s===Lt(n))&&(s=!0))}return s}const hc=new WeakMap;function Qo(e,t,n=!1){const s=n?hc:t.propsCache,r=s.get(e);if(r)return r;const i=e.props,o={},a=[];let l=!1;if(!B(e)){const c=f=>{l=!0;const[h,g]=Qo(f,t,!0);ye(o,h),g&&a.push(...g)};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!i&&!l)return ie(e)&&s.set(e,Jt),Jt;if(F(i))for(let c=0;c<i.length;c++){const f=Le(i[c]);Yr(f)&&(o[f]=re)}else if(i)for(const c in i){const f=Le(c);if(Yr(f)){const h=i[c],g=o[f]=F(h)||B(h)?{type:h}:ye({},h),b=g.type;let S=!1,x=!0;if(F(b))for(let $=0;$<b.length;++$){const j=b[$],A=B(j)&&j.name;if(A==="Boolean"){S=!0;break}else A==="String"&&(x=!1)}else S=B(b)&&b.name==="Boolean";g[0]=S,g[1]=x,(S||G(g,"default"))&&a.push(f)}}const u=[o,a];return ie(e)&&s.set(e,u),u}function Yr(e){return e[0]!=="$"&&!xn(e)}const Yo=e=>e[0]==="_"||e==="$stable",Pr=e=>F(e)?e.map(Qe):[Qe(e)],pc=(e,t,n)=>{if(t._n)return t;const s=Xe((...r)=>Pr(t(...r)),n);return s._c=!1,s},Xo=(e,t,n)=>{const s=e._ctx;for(const r in e){if(Yo(r))continue;const i=e[r];if(B(i))t[r]=pc(r,i,s);else if(i!=null){const o=Pr(i);t[r]=()=>o}}},Zo=(e,t)=>{const n=Pr(t);e.slots.default=()=>n},ea=(e,t,n)=>{for(const s in t)(n||s!=="_")&&(e[s]=t[s])},gc=(e,t,n)=>{const s=e.slots=Wo();if(e.vnode.shapeFlag&32){const r=t._;r?(ea(s,t,n),n&&lo(s,"_",r,!0)):Xo(t,s)}else t&&Zo(e,t)},mc=(e,t,n)=>{const{vnode:s,slots:r}=e;let i=!0,o=re;if(s.shapeFlag&32){const a=t._;a?n&&a===1?i=!1:ea(r,t,n):(i=!t.$stable,Xo(t,r)),o=t}else t&&(Zo(e,t),o={default:1});if(i)for(const a in r)!Yo(a)&&o[a]==null&&delete r[a]},Oe=Cc;function _c(e){return yc(e)}function yc(e,t){const n=ms();n.__VUE__=!0;const{insert:s,remove:r,patchProp:i,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:f,nextSibling:h,setScopeId:g=Ye,insertStaticContent:b}=e,S=(d,p,m,_=null,v=null,w=null,O=void 0,T=null,k=!!p.dynamicChildren)=>{if(d===p)return;d&&!dn(d,p)&&(_=y(d),Se(d,v,w,!0),d=null),p.patchFlag===-2&&(k=!1,p.dynamicChildren=null);const{type:E,ref:M,shapeFlag:C}=p;switch(E){case Ss:x(d,p,m,_);break;case St:$(d,p,m,_);break;case Is:d==null&&j(p,m,_,O);break;case ke:kt(d,p,m,_,v,w,O,T,k);break;default:C&1?N(d,p,m,_,v,w,O,T,k):C&6?qe(d,p,m,_,v,w,O,T,k):(C&64||C&128)&&E.process(d,p,m,_,v,w,O,T,k,L)}M!=null&&v&&ls(M,d&&d.ref,w,p||d,!p)},x=(d,p,m,_)=>{if(d==null)s(p.el=a(p.children),m,_);else{const v=p.el=d.el;p.children!==d.children&&u(v,p.children)}},$=(d,p,m,_)=>{d==null?s(p.el=l(p.children||""),m,_):p.el=d.el},j=(d,p,m,_)=>{[d.el,d.anchor]=b(d.children,p,m,_,d.el,d.anchor)},A=({el:d,anchor:p},m,_)=>{let v;for(;d&&d!==p;)v=h(d),s(d,m,_),d=v;s(p,m,_)},P=({el:d,anchor:p})=>{let m;for(;d&&d!==p;)m=h(d),r(d),d=m;r(p)},N=(d,p,m,_,v,w,O,T,k)=>{p.type==="svg"?O="svg":p.type==="math"&&(O="mathml"),d==null?fe(p,m,_,v,w,O,T,k):ct(d,p,v,w,O,T,k)},fe=(d,p,m,_,v,w,O,T)=>{let k,E;const{props:M,shapeFlag:C,transition:D,dirs:U}=d;if(k=d.el=o(d.type,w,M&&M.is,M),C&8?c(k,d.children):C&16&&Fe(d.children,k,null,_,v,js(d,w),O,T),U&&Tt(d,null,_,"created"),oe(k,d,d.scopeId,O,_),M){for(const te in M)te!=="value"&&!xn(te)&&i(k,te,null,M[te],w,_);"value"in M&&i(k,"value",null,M.value,w),(E=M.onVnodeBeforeMount)&&We(E,_,d)}U&&Tt(d,null,_,"beforeMount");const H=bc(v,D);H&&D.beforeEnter(k),s(k,p,m),((E=M&&M.onVnodeMounted)||H||U)&&Oe(()=>{E&&We(E,_,d),H&&D.enter(k),U&&Tt(d,null,_,"mounted")},v)},oe=(d,p,m,_,v)=>{if(m&&g(d,m),_)for(let w=0;w<_.length;w++)g(d,_[w]);if(v){let w=v.subTree;if(p===w||oa(w.type)&&(w.ssContent===p||w.ssFallback===p)){const O=v.vnode;oe(d,O,O.scopeId,O.slotScopeIds,v.parent)}}},Fe=(d,p,m,_,v,w,O,T,k=0)=>{for(let E=k;E<d.length;E++){const M=d[E]=T?mt(d[E]):Qe(d[E]);S(null,M,p,m,_,v,w,O,T)}},ct=(d,p,m,_,v,w,O)=>{const T=p.el=d.el;let{patchFlag:k,dynamicChildren:E,dirs:M}=p;k|=d.patchFlag&16;const C=d.props||re,D=p.props||re;let U;if(m&&Pt(m,!1),(U=D.onVnodeBeforeUpdate)&&We(U,m,p,d),M&&Tt(p,d,m,"beforeUpdate"),m&&Pt(m,!0),(C.innerHTML&&D.innerHTML==null||C.textContent&&D.textContent==null)&&c(T,""),E?Be(d.dynamicChildren,E,T,m,_,js(p,v),w):O||z(d,p,T,null,m,_,js(p,v),w,!1),k>0){if(k&16)ut(T,C,D,m,v);else if(k&2&&C.class!==D.class&&i(T,"class",null,D.class,v),k&4&&i(T,"style",C.style,D.style,v),k&8){const H=p.dynamicProps;for(let te=0;te<H.length;te++){const X=H[te],Te=C[X],Ee=D[X];(Ee!==Te||X==="value")&&i(T,X,Te,Ee,v,m)}}k&1&&d.children!==p.children&&c(T,p.children)}else!O&&E==null&&ut(T,C,D,m,v);((U=D.onVnodeUpdated)||M)&&Oe(()=>{U&&We(U,m,p,d),M&&Tt(p,d,m,"updated")},_)},Be=(d,p,m,_,v,w,O)=>{for(let T=0;T<p.length;T++){const k=d[T],E=p[T],M=k.el&&(k.type===ke||!dn(k,E)||k.shapeFlag&70)?f(k.el):m;S(k,E,M,null,_,v,w,O,!0)}},ut=(d,p,m,_,v)=>{if(p!==m){if(p!==re)for(const w in p)!xn(w)&&!(w in m)&&i(d,w,p[w],null,v,_);for(const w in m){if(xn(w))continue;const O=m[w],T=p[w];O!==T&&w!=="value"&&i(d,w,T,O,v,_)}"value"in m&&i(d,"value",p.value,m.value,v)}},kt=(d,p,m,_,v,w,O,T,k)=>{const E=p.el=d?d.el:a(""),M=p.anchor=d?d.anchor:a("");let{patchFlag:C,dynamicChildren:D,slotScopeIds:U}=p;U&&(T=T?T.concat(U):U),d==null?(s(E,m,_),s(M,m,_),Fe(p.children||[],m,M,v,w,O,T,k)):C>0&&C&64&&D&&d.dynamicChildren?(Be(d.dynamicChildren,D,m,v,w,O,T),(p.key!=null||v&&p===v.subTree)&&ta(d,p,!0)):z(d,p,m,M,v,w,O,T,k)},qe=(d,p,m,_,v,w,O,T,k)=>{p.slotScopeIds=T,d==null?p.shapeFlag&512?v.ctx.activate(p,m,_,O,k):cn(p,m,_,v,w,O,k):Nt(d,p,k)},cn=(d,p,m,_,v,w,O)=>{const T=d.component=Mc(d,_,v);if(Uo(d)&&(T.ctx.renderer=L),Uc(T,!1,O),T.asyncDep){if(v&&v.registerDep(T,ce,O),!d.el){const k=T.subTree=K(St);$(null,k,p,m)}}else ce(T,d,p,m,v,w,O)},Nt=(d,p,m)=>{const _=p.component=d.component;if(Oc(d,p,m))if(_.asyncDep&&!_.asyncResolved){Z(_,p,m);return}else _.next=p,_.update();else p.el=d.el,_.vnode=p},ce=(d,p,m,_,v,w,O)=>{const T=()=>{if(d.isMounted){let{next:C,bu:D,u:U,parent:H,vnode:te}=d;{const Ke=na(d);if(Ke){C&&(C.el=te.el,Z(d,C,O)),Ke.asyncDep.then(()=>{d.isUnmounted||T()});return}}let X=C,Te;Pt(d,!1),C?(C.el=te.el,Z(d,C,O)):C=te,D&&Ps(D),(Te=C.props&&C.props.onVnodeBeforeUpdate)&&We(Te,H,C,te),Pt(d,!0);const Ee=Zr(d),He=d.subTree;d.subTree=Ee,S(He,Ee,f(He.el),y(He),d,v,w),C.el=Ee.el,X===null&&Rc(d,Ee.el),U&&Oe(U,v),(Te=C.props&&C.props.onVnodeUpdated)&&Oe(()=>We(Te,H,C,te),v)}else{let C;const{el:D,props:U}=p,{bm:H,m:te,parent:X,root:Te,type:Ee}=d,He=Zt(p);Pt(d,!1),H&&Ps(H),!He&&(C=U&&U.onVnodeBeforeMount)&&We(C,X,p),Pt(d,!0);{Te.ce&&Te.ce._injectChildStyle(Ee);const Ke=d.subTree=Zr(d);S(null,Ke,m,_,d,v,w),p.el=Ke.el}if(te&&Oe(te,v),!He&&(C=U&&U.onVnodeMounted)){const Ke=p;Oe(()=>We(C,X,Ke),v)}(p.shapeFlag&256||X&&Zt(X.vnode)&&X.vnode.shapeFlag&256)&&d.a&&Oe(d.a,v),d.isMounted=!0,p=m=_=null}};d.scope.on();const k=d.effect=new ho(T);d.scope.off();const E=d.update=k.run.bind(k),M=d.job=k.runIfDirty.bind(k);M.i=d,M.id=d.uid,k.scheduler=()=>kr(M),Pt(d,!0),E()},Z=(d,p,m)=>{p.component=d;const _=d.vnode.props;d.vnode=p,d.next=null,dc(d,p.props,_,m),mc(d,p.children,m),Et(),Kr(d),xt()},z=(d,p,m,_,v,w,O,T,k=!1)=>{const E=d&&d.children,M=d?d.shapeFlag:0,C=p.children,{patchFlag:D,shapeFlag:U}=p;if(D>0){if(D&128){ft(E,C,m,_,v,w,O,T,k);return}else if(D&256){tt(E,C,m,_,v,w,O,T,k);return}}U&8?(M&16&&je(E,v,w),C!==E&&c(m,C)):M&16?U&16?ft(E,C,m,_,v,w,O,T,k):je(E,v,w,!0):(M&8&&c(m,""),U&16&&Fe(C,m,_,v,w,O,T,k))},tt=(d,p,m,_,v,w,O,T,k)=>{d=d||Jt,p=p||Jt;const E=d.length,M=p.length,C=Math.min(E,M);let D;for(D=0;D<C;D++){const U=p[D]=k?mt(p[D]):Qe(p[D]);S(d[D],U,m,null,v,w,O,T,k)}E>M?je(d,v,w,!0,!1,C):Fe(p,m,_,v,w,O,T,k,C)},ft=(d,p,m,_,v,w,O,T,k)=>{let E=0;const M=p.length;let C=d.length-1,D=M-1;for(;E<=C&&E<=D;){const U=d[E],H=p[E]=k?mt(p[E]):Qe(p[E]);if(dn(U,H))S(U,H,m,null,v,w,O,T,k);else break;E++}for(;E<=C&&E<=D;){const U=d[C],H=p[D]=k?mt(p[D]):Qe(p[D]);if(dn(U,H))S(U,H,m,null,v,w,O,T,k);else break;C--,D--}if(E>C){if(E<=D){const U=D+1,H=U<M?p[U].el:_;for(;E<=D;)S(null,p[E]=k?mt(p[E]):Qe(p[E]),m,H,v,w,O,T,k),E++}}else if(E>D)for(;E<=C;)Se(d[E],v,w,!0),E++;else{const U=E,H=E,te=new Map;for(E=H;E<=D;E++){const Pe=p[E]=k?mt(p[E]):Qe(p[E]);Pe.key!=null&&te.set(Pe.key,E)}let X,Te=0;const Ee=D-H+1;let He=!1,Ke=0;const un=new Array(Ee);for(E=0;E<Ee;E++)un[E]=0;for(E=U;E<=C;E++){const Pe=d[E];if(Te>=Ee){Se(Pe,v,w,!0);continue}let ze;if(Pe.key!=null)ze=te.get(Pe.key);else for(X=H;X<=D;X++)if(un[X-H]===0&&dn(Pe,p[X])){ze=X;break}ze===void 0?Se(Pe,v,w,!0):(un[ze-H]=E+1,ze>=Ke?Ke=ze:He=!0,S(Pe,p[ze],m,null,v,w,O,T,k),Te++)}const Fr=He?wc(un):Jt;for(X=Fr.length-1,E=Ee-1;E>=0;E--){const Pe=H+E,ze=p[Pe],Br=Pe+1<M?p[Pe+1].el:_;un[E]===0?S(null,ze,m,Br,v,w,O,T,k):He&&(X<0||E!==Fr[X]?Ve(ze,m,Br,2):X--)}}},Ve=(d,p,m,_,v=null)=>{const{el:w,type:O,transition:T,children:k,shapeFlag:E}=d;if(E&6){Ve(d.component.subTree,p,m,_);return}if(E&128){d.suspense.move(p,m,_);return}if(E&64){O.move(d,p,m,L);return}if(O===ke){s(w,p,m);for(let C=0;C<k.length;C++)Ve(k[C],p,m,_);s(d.anchor,p,m);return}if(O===Is){A(d,p,m);return}if(_!==2&&E&1&&T)if(_===0)T.beforeEnter(w),s(w,p,m),Oe(()=>T.enter(w),v);else{const{leave:C,delayLeave:D,afterLeave:U}=T,H=()=>s(w,p,m),te=()=>{C(w,()=>{H(),U&&U()})};D?D(w,H,te):te()}else s(w,p,m)},Se=(d,p,m,_=!1,v=!1)=>{const{type:w,props:O,ref:T,children:k,dynamicChildren:E,shapeFlag:M,patchFlag:C,dirs:D,cacheIndex:U}=d;if(C===-2&&(v=!1),T!=null&&ls(T,null,m,d,!0),U!=null&&(p.renderCache[U]=void 0),M&256){p.ctx.deactivate(d);return}const H=M&1&&D,te=!Zt(d);let X;if(te&&(X=O&&O.onVnodeBeforeUnmount)&&We(X,p,d),M&6)zn(d.component,m,_);else{if(M&128){d.suspense.unmount(m,_);return}H&&Tt(d,null,p,"beforeUnmount"),M&64?d.type.remove(d,p,m,L,_):E&&!E.hasOnce&&(w!==ke||C>0&&C&64)?je(E,p,m,!1,!0):(w===ke&&C&384||!v&&M&16)&&je(k,p,m),_&&Ft(d)}(te&&(X=O&&O.onVnodeUnmounted)||H)&&Oe(()=>{X&&We(X,p,d),H&&Tt(d,null,p,"unmounted")},m)},Ft=d=>{const{type:p,el:m,anchor:_,transition:v}=d;if(p===ke){Bt(m,_);return}if(p===Is){P(d);return}const w=()=>{r(m),v&&!v.persisted&&v.afterLeave&&v.afterLeave()};if(d.shapeFlag&1&&v&&!v.persisted){const{leave:O,delayLeave:T}=v,k=()=>O(m,w);T?T(d.el,w,k):k()}else w()},Bt=(d,p)=>{let m;for(;d!==p;)m=h(d),r(d),d=m;r(p)},zn=(d,p,m)=>{const{bum:_,scope:v,job:w,subTree:O,um:T,m:k,a:E}=d;Xr(k),Xr(E),_&&Ps(_),v.stop(),w&&(w.flags|=8,Se(O,d,p,m)),T&&Oe(T,p),Oe(()=>{d.isUnmounted=!0},p),p&&p.pendingBranch&&!p.isUnmounted&&d.asyncDep&&!d.asyncResolved&&d.suspenseId===p.pendingId&&(p.deps--,p.deps===0&&p.resolve())},je=(d,p,m,_=!1,v=!1,w=0)=>{for(let O=w;O<d.length;O++)Se(d[O],p,m,_,v)},y=d=>{if(d.shapeFlag&6)return y(d.component.subTree);if(d.shapeFlag&128)return d.suspense.next();const p=h(d.anchor||d.el),m=p&&p[Nl];return m?h(m):p};let I=!1;const R=(d,p,m)=>{d==null?p._vnode&&Se(p._vnode,null,null,!0):S(p._vnode||null,d,p,null,null,null,m),p._vnode=d,I||(I=!0,Kr(),Io(),I=!1)},L={p:S,um:Se,m:Ve,r:Ft,mt:cn,mc:Fe,pc:z,pbc:Be,n:y,o:e};return{render:R,hydrate:void 0,createApp:uc(R)}}function js({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Pt({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function bc(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function ta(e,t,n=!1){const s=e.children,r=t.children;if(F(s)&&F(r))for(let i=0;i<s.length;i++){const o=s[i];let a=r[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[i]=mt(r[i]),a.el=o.el),!n&&a.patchFlag!==-2&&ta(o,a)),a.type===Ss&&(a.el=o.el)}}function wc(e){const t=e.slice(),n=[0];let s,r,i,o,a;const l=e.length;for(s=0;s<l;s++){const u=e[s];if(u!==0){if(r=n[n.length-1],e[r]<u){t[s]=r,n.push(s);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,e[n[a]]<u?i=a+1:o=a;u<e[n[i]]&&(i>0&&(t[s]=n[i-1]),n[i]=s)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=t[o];return n}function na(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:na(t)}function Xr(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const vc=Symbol.for("v-scx"),Sc=()=>Ze(vc);function ns(e,t,n){return sa(e,t,n)}function sa(e,t,n=re){const{immediate:s,deep:r,flush:i,once:o}=n,a=ye({},n),l=t&&s||!t&&i!=="post";let u;if(Un){if(i==="sync"){const g=Sc();u=g.__watcherHandles||(g.__watcherHandles=[])}else if(!l){const g=()=>{};return g.stop=Ye,g.resume=Ye,g.pause=Ye,g}}const c=me;a.call=(g,b,S)=>et(g,c,b,S);let f=!1;i==="post"?a.scheduler=g=>{Oe(g,c&&c.suspense)}:i!=="sync"&&(f=!0,a.scheduler=(g,b)=>{b?g():kr(g)}),a.augmentJob=g=>{t&&(g.flags|=4),f&&(g.flags|=2,c&&(g.id=c.uid,g.i=c))};const h=Ll(e,t,a);return Un&&(u?u.push(h):l&&h()),h}function Ec(e,t,n){const s=this.proxy,r=ae(e)?e.includes(".")?ra(s,e):()=>s[e]:e.bind(s,s);let i;B(t)?i=t:(i=t.handler,n=t);const o=Hn(this),a=sa(r,i.bind(s),n);return o(),a}function ra(e,t){const n=t.split(".");return()=>{let s=e;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}const xc=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Le(t)}Modifiers`]||e[`${Lt(t)}Modifiers`];function kc(e,t,...n){if(e.isUnmounted)return;const s=e.vnode.props||re;let r=n;const i=t.startsWith("update:"),o=i&&xc(s,t.slice(7));o&&(o.trim&&(r=n.map(c=>ae(c)?c.trim():c)),o.number&&(r=n.map(tl)));let a,l=s[a=Ts(t)]||s[a=Ts(Le(t))];!l&&i&&(l=s[a=Ts(Lt(t))]),l&&et(l,e,6,r);const u=s[a+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,et(u,e,6,r)}}function ia(e,t,n=!1){const s=t.emitsCache,r=s.get(e);if(r!==void 0)return r;const i=e.emits;let o={},a=!1;if(!B(e)){const l=u=>{const c=ia(u,t,!0);c&&(a=!0,ye(o,c))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!i&&!a?(ie(e)&&s.set(e,null),null):(F(i)?i.forEach(l=>o[l]=null):ye(o,i),ie(e)&&s.set(e,o),o)}function vs(e,t){return!e||!ds(t)?!1:(t=t.slice(2).replace(/Once$/,""),G(e,t[0].toLowerCase()+t.slice(1))||G(e,Lt(t))||G(e,t))}function Zr(e){const{type:t,vnode:n,proxy:s,withProxy:r,propsOptions:[i],slots:o,attrs:a,emit:l,render:u,renderCache:c,props:f,data:h,setupState:g,ctx:b,inheritAttrs:S}=e,x=as(e);let $,j;try{if(n.shapeFlag&4){const P=r||s,N=P;$=Qe(u.call(N,P,c,f,g,h,b)),j=a}else{const P=t;$=Qe(P.length>1?P(f,{attrs:a,slots:o,emit:l}):P(f,null)),j=t.props?a:Tc(a)}}catch(P){On.length=0,bs(P,e,1),$=K(St)}let A=$;if(j&&S!==!1){const P=Object.keys(j),{shapeFlag:N}=A;P.length&&N&7&&(i&&P.some(pr)&&(j=Pc(j,i)),A=nn(A,j,!1,!0))}return n.dirs&&(A=nn(A,null,!1,!0),A.dirs=A.dirs?A.dirs.concat(n.dirs):n.dirs),n.transition&&Tr(A,n.transition),$=A,as(x),$}const Tc=e=>{let t;for(const n in e)(n==="class"||n==="style"||ds(n))&&((t||(t={}))[n]=e[n]);return t},Pc=(e,t)=>{const n={};for(const s in e)(!pr(s)||!(s.slice(9)in t))&&(n[s]=e[s]);return n};function Oc(e,t,n){const{props:s,children:r,component:i}=e,{props:o,children:a,patchFlag:l}=t,u=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return s?ei(s,o,u):!!o;if(l&8){const c=t.dynamicProps;for(let f=0;f<c.length;f++){const h=c[f];if(o[h]!==s[h]&&!vs(u,h))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?ei(s,o,u):!0:!!o;return!1}function ei(e,t,n){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let r=0;r<s.length;r++){const i=s[r];if(t[i]!==e[i]&&!vs(n,i))return!0}return!1}function Rc({vnode:e,parent:t},n){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===e&&(s.el=e.el),s===e)(e=t.vnode).el=n,t=t.parent;else break}}const oa=e=>e.__isSuspense;function Cc(e,t){t&&t.pendingBranch?F(e)?t.effects.push(...e):t.effects.push(e):Ul(e)}const ke=Symbol.for("v-fgt"),Ss=Symbol.for("v-txt"),St=Symbol.for("v-cmt"),Is=Symbol.for("v-stc"),On=[];let $e=null;function Y(e=!1){On.push($e=e?null:[])}function Ac(){On.pop(),$e=On[On.length-1]||null}let Dn=1;function ti(e,t=!1){Dn+=e,e<0&&$e&&t&&($e.hasOnce=!0)}function aa(e){return e.dynamicChildren=Dn>0?$e||Jt:null,Ac(),Dn>0&&$e&&$e.push(e),e}function le(e,t,n,s,r,i){return aa(Q(e,t,n,s,r,i,!0))}function Ue(e,t,n,s,r){return aa(K(e,t,n,s,r,!0))}function Mn(e){return e?e.__v_isVNode===!0:!1}function dn(e,t){return e.type===t.type&&e.key===t.key}const la=({key:e})=>e??null,ss=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?ae(e)||_e(e)||B(e)?{i:ve,r:e,k:t,f:!!n}:e:null);function Q(e,t=null,n=null,s=0,r=null,i=e===ke?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&la(t),ref:t&&ss(t),scopeId:Do,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:ve};return a?(Rr(l,n),i&128&&e.normalize(l)):n&&(l.shapeFlag|=ae(n)?8:16),Dn>0&&!o&&$e&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&$e.push(l),l}const K=$c;function $c(e,t=null,n=null,s=0,r=null,i=!1){if((!e||e===ec)&&(e=St),Mn(e)){const a=nn(e,t,!0);return n&&Rr(a,n),Dn>0&&!i&&$e&&(a.shapeFlag&6?$e[$e.indexOf(e)]=a:$e.push(a)),a.patchFlag=-2,a}if(Vc(e)&&(e=e.__vccOpts),t){t=jc(t);let{class:a,style:l}=t;a&&!ae(a)&&(t.class=qn(a)),ie(l)&&(xr(l)&&!F(l)&&(l=ye({},l)),t.style=_r(l))}const o=ae(e)?1:oa(e)?128:Fl(e)?64:ie(e)?4:B(e)?2:0;return Q(e,t,n,s,r,o,i,!0)}function jc(e){return e?xr(e)||Jo(e)?ye({},e):e:null}function nn(e,t,n=!1,s=!1){const{props:r,ref:i,patchFlag:o,children:a,transition:l}=e,u=t?Ic(r||{},t):r,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&la(u),ref:t&&t.ref?n&&i?F(i)?i.concat(ss(t)):[i,ss(t)]:ss(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ke?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&nn(e.ssContent),ssFallback:e.ssFallback&&nn(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&s&&Tr(c,l.clone(c)),c}function Or(e=" ",t=0){return K(Ss,null,e,t)}function Es(e="",t=!1){return t?(Y(),Ue(St,null,e)):K(St,null,e)}function Qe(e){return e==null||typeof e=="boolean"?K(St):F(e)?K(ke,null,e.slice()):Mn(e)?mt(e):K(Ss,null,String(e))}function mt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:nn(e)}function Rr(e,t){let n=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(F(t))n=16;else if(typeof t=="object")if(s&65){const r=t.default;r&&(r._c&&(r._d=!1),Rr(e,r()),r._c&&(r._d=!0));return}else{n=32;const r=t._;!r&&!Jo(t)?t._ctx=ve:r===3&&ve&&(ve.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else B(t)?(t={default:t,_ctx:ve},n=32):(t=String(t),s&64?(n=16,t=[Or(t)]):n=8);e.children=t,e.shapeFlag|=n}function Ic(...e){const t={};for(let n=0;n<e.length;n++){const s=e[n];for(const r in s)if(r==="class")t.class!==s.class&&(t.class=qn([t.class,s.class]));else if(r==="style")t.style=_r([t.style,s.style]);else if(ds(r)){const i=t[r],o=s[r];o&&i!==o&&!(F(i)&&i.includes(o))&&(t[r]=i?[].concat(i,o):o)}else r!==""&&(t[r]=s[r])}return t}function We(e,t,n,s=null){et(e,t,7,[n,s])}const Lc=Ko();let Dc=0;function Mc(e,t,n){const s=e.type,r=(t?t.appContext:e.appContext)||Lc,i={uid:Dc++,vnode:e,type:s,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new ll(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Qo(s,r),emitsOptions:ia(s,r),emit:null,emitted:null,propsDefaults:re,inheritAttrs:s.inheritAttrs,ctx:re,data:re,props:re,attrs:re,slots:re,refs:re,setupState:re,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=kc.bind(null,i),e.ce&&e.ce(i),i}let me=null,us,tr;{const e=ms(),t=(n,s)=>{let r;return(r=e[n])||(r=e[n]=[]),r.push(s),i=>{r.length>1?r.forEach(o=>o(i)):r[0](i)}};us=t("__VUE_INSTANCE_SETTERS__",n=>me=n),tr=t("__VUE_SSR_SETTERS__",n=>Un=n)}const Hn=e=>{const t=me;return us(e),e.scope.on(),()=>{e.scope.off(),us(t)}},ni=()=>{me&&me.scope.off(),us(null)};function ca(e){return e.vnode.shapeFlag&4}let Un=!1;function Uc(e,t=!1,n=!1){t&&tr(t);const{props:s,children:r}=e.vnode,i=ca(e);fc(e,s,i,t),gc(e,r,n);const o=i?Nc(e,t):void 0;return t&&tr(!1),o}function Nc(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,sc);const{setup:s}=n;if(s){Et();const r=e.setupContext=s.length>1?Bc(e):null,i=Hn(e),o=Vn(s,e,0,[e.props,r]),a=io(o);if(xt(),i(),(a||e.sp)&&!Zt(e)&&Mo(e),a){if(o.then(ni,ni),t)return o.then(l=>{si(e,l)}).catch(l=>{bs(l,e,0)});e.asyncDep=o}else si(e,o)}else ua(e)}function si(e,t,n){B(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:ie(t)&&(e.setupState=Co(t)),ua(e)}function ua(e,t,n){const s=e.type;e.render||(e.render=s.render||Ye);{const r=Hn(e);Et();try{rc(e)}finally{xt(),r()}}}const Fc={get(e,t){return pe(e,"get",""),e[t]}};function Bc(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,Fc),slots:e.slots,emit:e.emit,expose:t}}function Cr(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Co(Ol(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Pn)return Pn[n](e)},has(t,n){return n in t||n in Pn}})):e.proxy}function qc(e,t=!0){return B(e)?e.displayName||e.name:e.name||t&&e.__name}function Vc(e){return B(e)&&"__vccOpts"in e}const Ae=(e,t)=>jl(e,t,Un);function fa(e,t,n){const s=arguments.length;return s===2?ie(t)&&!F(t)?Mn(t)?K(e,null,[t]):K(e,t):K(e,null,t):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&Mn(n)&&(n=[n]),K(e,t,n))}const Hc="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let nr;const ri=typeof window<"u"&&window.trustedTypes;if(ri)try{nr=ri.createPolicy("vue",{createHTML:e=>e})}catch{}const da=nr?e=>nr.createHTML(e):e=>e,Kc="http://www.w3.org/2000/svg",zc="http://www.w3.org/1998/Math/MathML",rt=typeof document<"u"?document:null,ii=rt&&rt.createElement("template"),Wc={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,s)=>{const r=t==="svg"?rt.createElementNS(Kc,e):t==="mathml"?rt.createElementNS(zc,e):n?rt.createElement(e,{is:n}):rt.createElement(e);return e==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:e=>rt.createTextNode(e),createComment:e=>rt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>rt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,s,r,i){const o=n?n.previousSibling:t.lastChild;if(r&&(r===i||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),n),!(r===i||!(r=r.nextSibling)););else{ii.innerHTML=da(s==="svg"?`<svg>${e}</svg>`:s==="mathml"?`<math>${e}</math>`:e);const a=ii.content;if(s==="svg"||s==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Jc=Symbol("_vtc");function Gc(e,t,n){const s=e[Jc];s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const oi=Symbol("_vod"),Qc=Symbol("_vsh"),Yc=Symbol(""),Xc=/(^|;)\s*display\s*:/;function Zc(e,t,n){const s=e.style,r=ae(n);let i=!1;if(n&&!r){if(t)if(ae(t))for(const o of t.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&rs(s,a,"")}else for(const o in t)n[o]==null&&rs(s,o,"");for(const o in n)o==="display"&&(i=!0),rs(s,o,n[o])}else if(r){if(t!==n){const o=s[Yc];o&&(n+=";"+o),s.cssText=n,i=Xc.test(n)}}else t&&e.removeAttribute("style");oi in e&&(e[oi]=i?s.display:"",e[Qc]&&(s.display="none"))}const ai=/\s*!important$/;function rs(e,t,n){if(F(n))n.forEach(s=>rs(e,t,s));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const s=eu(e,t);ai.test(n)?e.setProperty(Lt(s),n.replace(ai,""),"important"):e[s]=n}}const li=["Webkit","Moz","ms"],Ls={};function eu(e,t){const n=Ls[t];if(n)return n;let s=Le(t);if(s!=="filter"&&s in e)return Ls[t]=s;s=gs(s);for(let r=0;r<li.length;r++){const i=li[r]+s;if(i in e)return Ls[t]=i}return t}const ci="http://www.w3.org/1999/xlink";function ui(e,t,n,s,r,i=al(t)){s&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(ci,t.slice(6,t.length)):e.setAttributeNS(ci,t,n):n==null||i&&!co(n)?e.removeAttribute(t):e.setAttribute(t,i?"":at(n)?String(n):n)}function fi(e,t,n,s,r){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?da(n):n);return}const i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?e.getAttribute("value")||"":e.value,l=n==null?e.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in e))&&(e.value=l),n==null&&e.removeAttribute(t),e._value=n;return}let o=!1;if(n===""||n==null){const a=typeof e[t];a==="boolean"?n=co(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{e[t]=n}catch{}o&&e.removeAttribute(r||t)}function tu(e,t,n,s){e.addEventListener(t,n,s)}function nu(e,t,n,s){e.removeEventListener(t,n,s)}const di=Symbol("_vei");function su(e,t,n,s,r=null){const i=e[di]||(e[di]={}),o=i[t];if(s&&o)o.value=s;else{const[a,l]=ru(t);if(s){const u=i[t]=au(s,r);tu(e,a,u,l)}else o&&(nu(e,a,o,l),i[t]=void 0)}}const hi=/(?:Once|Passive|Capture)$/;function ru(e){let t;if(hi.test(e)){t={};let s;for(;s=e.match(hi);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Lt(e.slice(2)),t]}let Ds=0;const iu=Promise.resolve(),ou=()=>Ds||(iu.then(()=>Ds=0),Ds=Date.now());function au(e,t){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;et(lu(s,n.value),t,5,[s])};return n.value=e,n.attached=ou(),n}function lu(e,t){if(F(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(s=>r=>!r._stopped&&s&&s(r))}else return t}const pi=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,cu=(e,t,n,s,r,i)=>{const o=r==="svg";t==="class"?Gc(e,s,o):t==="style"?Zc(e,n,s):ds(t)?pr(t)||su(e,t,n,s,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):uu(e,t,s,o))?(fi(e,t,s),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&ui(e,t,s,o,i,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!ae(s))?fi(e,Le(t),s,i,t):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),ui(e,t,s,o))};function uu(e,t,n,s){if(s)return!!(t==="innerHTML"||t==="textContent"||t in e&&pi(t)&&B(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const r=e.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return pi(t)&&ae(n)?!1:t in e}const fu=["ctrl","shift","alt","meta"],du={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>fu.some(n=>e[`${n}Key`]&&!t.includes(n))},hu=(e,t)=>{const n=e._withMods||(e._withMods={}),s=t.join(".");return n[s]||(n[s]=(r,...i)=>{for(let o=0;o<t.length;o++){const a=du[t[o]];if(a&&a(r,t))return}return e(r,...i)})},pu=ye({patchProp:cu},Wc);let gi;function gu(){return gi||(gi=_c(pu))}const mu=(...e)=>{const t=gu().createApp(...e),{mount:n}=t;return t.mount=s=>{const r=yu(s);if(!r)return;const i=t._component;!B(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const o=n(r,!1,_u(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},t};function _u(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function yu(e){return ae(e)?document.querySelector(e):e}/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Wt=typeof document<"u";function ha(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function bu(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&ha(e.default)}const W=Object.assign;function Ms(e,t){const n={};for(const s in t){const r=t[s];n[s]=Ne(r)?r.map(e):e(r)}return n}const Rn=()=>{},Ne=Array.isArray,pa=/#/g,wu=/&/g,vu=/\//g,Su=/=/g,Eu=/\?/g,ga=/\+/g,xu=/%5B/g,ku=/%5D/g,ma=/%5E/g,Tu=/%60/g,_a=/%7B/g,Pu=/%7C/g,ya=/%7D/g,Ou=/%20/g;function Ar(e){return encodeURI(""+e).replace(Pu,"|").replace(xu,"[").replace(ku,"]")}function Ru(e){return Ar(e).replace(_a,"{").replace(ya,"}").replace(ma,"^")}function sr(e){return Ar(e).replace(ga,"%2B").replace(Ou,"+").replace(pa,"%23").replace(wu,"%26").replace(Tu,"`").replace(_a,"{").replace(ya,"}").replace(ma,"^")}function Cu(e){return sr(e).replace(Su,"%3D")}function Au(e){return Ar(e).replace(pa,"%23").replace(Eu,"%3F")}function $u(e){return e==null?"":Au(e).replace(vu,"%2F")}function Nn(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const ju=/\/$/,Iu=e=>e.replace(ju,"");function Us(e,t,n="/"){let s,r={},i="",o="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(s=t.slice(0,l),i=t.slice(l+1,a>-1?a:t.length),r=e(i)),a>-1&&(s=s||t.slice(0,a),o=t.slice(a,t.length)),s=Uu(s??t,n),{fullPath:s+(i&&"?")+i+o,path:s,query:r,hash:Nn(o)}}function Lu(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function mi(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Du(e,t,n){const s=t.matched.length-1,r=n.matched.length-1;return s>-1&&s===r&&sn(t.matched[s],n.matched[r])&&ba(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function sn(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function ba(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!Mu(e[n],t[n]))return!1;return!0}function Mu(e,t){return Ne(e)?_i(e,t):Ne(t)?_i(t,e):e===t}function _i(e,t){return Ne(t)?e.length===t.length&&e.every((n,s)=>n===t[s]):e.length===1&&e[0]===t}function Uu(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),s=e.split("/"),r=s[s.length-1];(r===".."||r===".")&&s.push("");let i=n.length-1,o,a;for(o=0;o<s.length;o++)if(a=s[o],a!==".")if(a==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+s.slice(o).join("/")}const dt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Fn;(function(e){e.pop="pop",e.push="push"})(Fn||(Fn={}));var Cn;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Cn||(Cn={}));function Nu(e){if(!e)if(Wt){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Iu(e)}const Fu=/^[^#]+#/;function Bu(e,t){return e.replace(Fu,"#")+t}function qu(e,t){const n=document.documentElement.getBoundingClientRect(),s=e.getBoundingClientRect();return{behavior:t.behavior,left:s.left-n.left-(t.left||0),top:s.top-n.top-(t.top||0)}}const xs=()=>({left:window.scrollX,top:window.scrollY});function Vu(e){let t;if("el"in e){const n=e.el,s=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;t=qu(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function yi(e,t){return(history.state?history.state.position-t:-1)+e}const rr=new Map;function Hu(e,t){rr.set(e,t)}function Ku(e){const t=rr.get(e);return rr.delete(e),t}let zu=()=>location.protocol+"//"+location.host;function wa(e,t){const{pathname:n,search:s,hash:r}=t,i=e.indexOf("#");if(i>-1){let a=r.includes(e.slice(i))?e.slice(i).length:1,l=r.slice(a);return l[0]!=="/"&&(l="/"+l),mi(l,"")}return mi(n,e)+s+r}function Wu(e,t,n,s){let r=[],i=[],o=null;const a=({state:h})=>{const g=wa(e,location),b=n.value,S=t.value;let x=0;if(h){if(n.value=g,t.value=h,o&&o===b){o=null;return}x=S?h.position-S.position:0}else s(g);r.forEach($=>{$(n.value,b,{delta:x,type:Fn.pop,direction:x?x>0?Cn.forward:Cn.back:Cn.unknown})})};function l(){o=n.value}function u(h){r.push(h);const g=()=>{const b=r.indexOf(h);b>-1&&r.splice(b,1)};return i.push(g),g}function c(){const{history:h}=window;h.state&&h.replaceState(W({},h.state,{scroll:xs()}),"")}function f(){for(const h of i)h();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:f}}function bi(e,t,n,s=!1,r=!1){return{back:e,current:t,forward:n,replaced:s,position:window.history.length,scroll:r?xs():null}}function Ju(e){const{history:t,location:n}=window,s={value:wa(e,n)},r={value:t.state};r.value||i(s.value,{back:null,current:s.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(l,u,c){const f=e.indexOf("#"),h=f>-1?(n.host&&document.querySelector("base")?e:e.slice(f))+l:zu()+e+l;try{t[c?"replaceState":"pushState"](u,"",h),r.value=u}catch(g){console.error(g),n[c?"replace":"assign"](h)}}function o(l,u){const c=W({},t.state,bi(r.value.back,l,r.value.forward,!0),u,{position:r.value.position});i(l,c,!0),s.value=l}function a(l,u){const c=W({},r.value,t.state,{forward:l,scroll:xs()});i(c.current,c,!0);const f=W({},bi(s.value,l,null),{position:c.position+1},u);i(l,f,!1),s.value=l}return{location:s,state:r,push:a,replace:o}}function Gu(e){e=Nu(e);const t=Ju(e),n=Wu(e,t.state,t.location,t.replace);function s(i,o=!0){o||n.pauseListeners(),history.go(i)}const r=W({location:"",base:e,go:s,createHref:Bu.bind(null,e)},t,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}function Qu(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),Gu(e)}function Yu(e){return typeof e=="string"||e&&typeof e=="object"}function va(e){return typeof e=="string"||typeof e=="symbol"}const Sa=Symbol("");var wi;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(wi||(wi={}));function rn(e,t){return W(new Error,{type:e,[Sa]:!0},t)}function st(e,t){return e instanceof Error&&Sa in e&&(t==null||!!(e.type&t))}const vi="[^/]+?",Xu={sensitive:!1,strict:!1,start:!0,end:!0},Zu=/[.+*?^${}()[\]/\\]/g;function ef(e,t){const n=W({},Xu,t),s=[];let r=n.start?"^":"";const i=[];for(const u of e){const c=u.length?[]:[90];n.strict&&!u.length&&(r+="/");for(let f=0;f<u.length;f++){const h=u[f];let g=40+(n.sensitive?.25:0);if(h.type===0)f||(r+="/"),r+=h.value.replace(Zu,"\\$&"),g+=40;else if(h.type===1){const{value:b,repeatable:S,optional:x,regexp:$}=h;i.push({name:b,repeatable:S,optional:x});const j=$||vi;if(j!==vi){g+=10;try{new RegExp(`(${j})`)}catch(P){throw new Error(`Invalid custom RegExp for param "${b}" (${j}): `+P.message)}}let A=S?`((?:${j})(?:/(?:${j}))*)`:`(${j})`;f||(A=x&&u.length<2?`(?:/${A})`:"/"+A),x&&(A+="?"),r+=A,g+=20,x&&(g+=-8),S&&(g+=-20),j===".*"&&(g+=-50)}c.push(g)}s.push(c)}if(n.strict&&n.end){const u=s.length-1;s[u][s[u].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const o=new RegExp(r,n.sensitive?"":"i");function a(u){const c=u.match(o),f={};if(!c)return null;for(let h=1;h<c.length;h++){const g=c[h]||"",b=i[h-1];f[b.name]=g&&b.repeatable?g.split("/"):g}return f}function l(u){let c="",f=!1;for(const h of e){(!f||!c.endsWith("/"))&&(c+="/"),f=!1;for(const g of h)if(g.type===0)c+=g.value;else if(g.type===1){const{value:b,repeatable:S,optional:x}=g,$=b in u?u[b]:"";if(Ne($)&&!S)throw new Error(`Provided param "${b}" is an array but it is not repeatable (* or + modifiers)`);const j=Ne($)?$.join("/"):$;if(!j)if(x)h.length<2&&(c.endsWith("/")?c=c.slice(0,-1):f=!0);else throw new Error(`Missing required param "${b}"`);c+=j}}return c||"/"}return{re:o,score:s,keys:i,parse:a,stringify:l}}function tf(e,t){let n=0;for(;n<e.length&&n<t.length;){const s=t[n]-e[n];if(s)return s;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function Ea(e,t){let n=0;const s=e.score,r=t.score;for(;n<s.length&&n<r.length;){const i=tf(s[n],r[n]);if(i)return i;n++}if(Math.abs(r.length-s.length)===1){if(Si(s))return 1;if(Si(r))return-1}return r.length-s.length}function Si(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const nf={type:0,value:""},sf=/[a-zA-Z0-9_]/;function rf(e){if(!e)return[[]];if(e==="/")return[[nf]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(g){throw new Error(`ERR (${n})/"${u}": ${g}`)}let n=0,s=n;const r=[];let i;function o(){i&&r.push(i),i=[]}let a=0,l,u="",c="";function f(){u&&(n===0?i.push({type:0,value:u}):n===1||n===2||n===3?(i.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),u="")}function h(){u+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:l==="/"?(u&&f(),o()):l===":"?(f(),n=1):h();break;case 4:h(),n=s;break;case 1:l==="("?n=2:sf.test(l)?h():(f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:n=3:c+=l;break;case 3:f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${u}"`),f(),o(),r}function of(e,t,n){const s=ef(rf(e.path),n),r=W(s,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function af(e,t){const n=[],s=new Map;t=Ti({strict:!1,end:!0,sensitive:!1},t);function r(f){return s.get(f)}function i(f,h,g){const b=!g,S=xi(f);S.aliasOf=g&&g.record;const x=Ti(t,f),$=[S];if("alias"in f){const P=typeof f.alias=="string"?[f.alias]:f.alias;for(const N of P)$.push(xi(W({},S,{components:g?g.record.components:S.components,path:N,aliasOf:g?g.record:S})))}let j,A;for(const P of $){const{path:N}=P;if(h&&N[0]!=="/"){const fe=h.record.path,oe=fe[fe.length-1]==="/"?"":"/";P.path=h.record.path+(N&&oe+N)}if(j=of(P,h,x),g?g.alias.push(j):(A=A||j,A!==j&&A.alias.push(j),b&&f.name&&!ki(j)&&o(f.name)),xa(j)&&l(j),S.children){const fe=S.children;for(let oe=0;oe<fe.length;oe++)i(fe[oe],j,g&&g.children[oe])}g=g||j}return A?()=>{o(A)}:Rn}function o(f){if(va(f)){const h=s.get(f);h&&(s.delete(f),n.splice(n.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=n.indexOf(f);h>-1&&(n.splice(h,1),f.record.name&&s.delete(f.record.name),f.children.forEach(o),f.alias.forEach(o))}}function a(){return n}function l(f){const h=uf(f,n);n.splice(h,0,f),f.record.name&&!ki(f)&&s.set(f.record.name,f)}function u(f,h){let g,b={},S,x;if("name"in f&&f.name){if(g=s.get(f.name),!g)throw rn(1,{location:f});x=g.record.name,b=W(Ei(h.params,g.keys.filter(A=>!A.optional).concat(g.parent?g.parent.keys.filter(A=>A.optional):[]).map(A=>A.name)),f.params&&Ei(f.params,g.keys.map(A=>A.name))),S=g.stringify(b)}else if(f.path!=null)S=f.path,g=n.find(A=>A.re.test(S)),g&&(b=g.parse(S),x=g.record.name);else{if(g=h.name?s.get(h.name):n.find(A=>A.re.test(h.path)),!g)throw rn(1,{location:f,currentLocation:h});x=g.record.name,b=W({},h.params,f.params),S=g.stringify(b)}const $=[];let j=g;for(;j;)$.unshift(j.record),j=j.parent;return{name:x,path:S,params:b,matched:$,meta:cf($)}}e.forEach(f=>i(f));function c(){n.length=0,s.clear()}return{addRoute:i,resolve:u,removeRoute:o,clearRoutes:c,getRoutes:a,getRecordMatcher:r}}function Ei(e,t){const n={};for(const s of t)s in e&&(n[s]=e[s]);return n}function xi(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:lf(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function lf(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const s in e.components)t[s]=typeof n=="object"?n[s]:n;return t}function ki(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function cf(e){return e.reduce((t,n)=>W(t,n.meta),{})}function Ti(e,t){const n={};for(const s in e)n[s]=s in t?t[s]:e[s];return n}function uf(e,t){let n=0,s=t.length;for(;n!==s;){const i=n+s>>1;Ea(e,t[i])<0?s=i:n=i+1}const r=ff(e);return r&&(s=t.lastIndexOf(r,s-1)),s}function ff(e){let t=e;for(;t=t.parent;)if(xa(t)&&Ea(e,t)===0)return t}function xa({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function df(e){const t={};if(e===""||e==="?")return t;const s=(e[0]==="?"?e.slice(1):e).split("&");for(let r=0;r<s.length;++r){const i=s[r].replace(ga," "),o=i.indexOf("="),a=Nn(o<0?i:i.slice(0,o)),l=o<0?null:Nn(i.slice(o+1));if(a in t){let u=t[a];Ne(u)||(u=t[a]=[u]),u.push(l)}else t[a]=l}return t}function Pi(e){let t="";for(let n in e){const s=e[n];if(n=Cu(n),s==null){s!==void 0&&(t+=(t.length?"&":"")+n);continue}(Ne(s)?s.map(i=>i&&sr(i)):[s&&sr(s)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+n,i!=null&&(t+="="+i))})}return t}function hf(e){const t={};for(const n in e){const s=e[n];s!==void 0&&(t[n]=Ne(s)?s.map(r=>r==null?null:""+r):s==null?s:""+s)}return t}const pf=Symbol(""),Oi=Symbol(""),$r=Symbol(""),jr=Symbol(""),ir=Symbol("");function hn(){let e=[];function t(s){return e.push(s),()=>{const r=e.indexOf(s);r>-1&&e.splice(r,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function _t(e,t,n,s,r,i=o=>o()){const o=s&&(s.enterCallbacks[r]=s.enterCallbacks[r]||[]);return()=>new Promise((a,l)=>{const u=h=>{h===!1?l(rn(4,{from:n,to:t})):h instanceof Error?l(h):Yu(h)?l(rn(2,{from:t,to:h})):(o&&s.enterCallbacks[r]===o&&typeof h=="function"&&o.push(h),a())},c=i(()=>e.call(s&&s.instances[r],t,n,u));let f=Promise.resolve(c);e.length<3&&(f=f.then(u)),f.catch(h=>l(h))})}function Ns(e,t,n,s,r=i=>i()){const i=[];for(const o of e)for(const a in o.components){let l=o.components[a];if(!(t!=="beforeRouteEnter"&&!o.instances[a]))if(ha(l)){const c=(l.__vccOpts||l)[t];c&&i.push(_t(c,n,s,o,a,r))}else{let u=l();i.push(()=>u.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const f=bu(c)?c.default:c;o.mods[a]=c,o.components[a]=f;const g=(f.__vccOpts||f)[t];return g&&_t(g,n,s,o,a,r)()}))}}return i}function Ri(e){const t=Ze($r),n=Ze(jr),s=Ae(()=>{const l=jt(e.to);return t.resolve(l)}),r=Ae(()=>{const{matched:l}=s.value,{length:u}=l,c=l[u-1],f=n.matched;if(!c||!f.length)return-1;const h=f.findIndex(sn.bind(null,c));if(h>-1)return h;const g=Ci(l[u-2]);return u>1&&Ci(c)===g&&f[f.length-1].path!==g?f.findIndex(sn.bind(null,l[u-2])):h}),i=Ae(()=>r.value>-1&&bf(n.params,s.value.params)),o=Ae(()=>r.value>-1&&r.value===n.matched.length-1&&ba(n.params,s.value.params));function a(l={}){if(yf(l)){const u=t[jt(e.replace)?"replace":"push"](jt(e.to)).catch(Rn);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:s,href:Ae(()=>s.value.href),isActive:i,isExactActive:o,navigate:a}}function gf(e){return e.length===1?e[0]:e}const mf=he({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Ri,setup(e,{slots:t}){const n=ys(Ri(e)),{options:s}=Ze($r),r=Ae(()=>({[Ai(e.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[Ai(e.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=t.default&&gf(t.default(n));return e.custom?i:fa("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},i)}}}),_f=mf;function yf(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function bf(e,t){for(const n in t){const s=t[n],r=e[n];if(typeof s=="string"){if(s!==r)return!1}else if(!Ne(r)||r.length!==s.length||s.some((i,o)=>i!==r[o]))return!1}return!0}function Ci(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Ai=(e,t,n)=>e??t??n,wf=he({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const s=Ze(ir),r=Ae(()=>e.route||s.value),i=Ze(Oi,0),o=Ae(()=>{let u=jt(i);const{matched:c}=r.value;let f;for(;(f=c[u])&&!f.components;)u++;return u}),a=Ae(()=>r.value.matched[o.value]);ts(Oi,Ae(()=>o.value+1)),ts(pf,a),ts(ir,r);const l=Gs();return ns(()=>[l.value,a.value,e.name],([u,c,f],[h,g,b])=>{c&&(c.instances[f]=u,g&&g!==c&&u&&u===h&&(c.leaveGuards.size||(c.leaveGuards=g.leaveGuards),c.updateGuards.size||(c.updateGuards=g.updateGuards))),u&&c&&(!g||!sn(c,g)||!h)&&(c.enterCallbacks[f]||[]).forEach(S=>S(u))},{flush:"post"}),()=>{const u=r.value,c=e.name,f=a.value,h=f&&f.components[c];if(!h)return $i(n.default,{Component:h,route:u});const g=f.props[c],b=g?g===!0?u.params:typeof g=="function"?g(u):g:null,x=fa(h,W({},b,t,{onVnodeUnmounted:$=>{$.component.isUnmounted&&(f.instances[c]=null)},ref:l}));return $i(n.default,{Component:x,route:u})||x}}});function $i(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const ka=wf;function vf(e){const t=af(e.routes,e),n=e.parseQuery||df,s=e.stringifyQuery||Pi,r=e.history,i=hn(),o=hn(),a=hn(),l=Rl(dt);let u=dt;Wt&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=Ms.bind(null,y=>""+y),f=Ms.bind(null,$u),h=Ms.bind(null,Nn);function g(y,I){let R,L;return va(y)?(R=t.getRecordMatcher(y),L=I):L=y,t.addRoute(L,R)}function b(y){const I=t.getRecordMatcher(y);I&&t.removeRoute(I)}function S(){return t.getRoutes().map(y=>y.record)}function x(y){return!!t.getRecordMatcher(y)}function $(y,I){if(I=W({},I||l.value),typeof y=="string"){const m=Us(n,y,I.path),_=t.resolve({path:m.path},I),v=r.createHref(m.fullPath);return W(m,_,{params:h(_.params),hash:Nn(m.hash),redirectedFrom:void 0,href:v})}let R;if(y.path!=null)R=W({},y,{path:Us(n,y.path,I.path).path});else{const m=W({},y.params);for(const _ in m)m[_]==null&&delete m[_];R=W({},y,{params:f(m)}),I.params=f(I.params)}const L=t.resolve(R,I),ee=y.hash||"";L.params=c(h(L.params));const d=Lu(s,W({},y,{hash:Ru(ee),path:L.path})),p=r.createHref(d);return W({fullPath:d,hash:ee,query:s===Pi?hf(y.query):y.query||{}},L,{redirectedFrom:void 0,href:p})}function j(y){return typeof y=="string"?Us(n,y,l.value.path):W({},y)}function A(y,I){if(u!==y)return rn(8,{from:I,to:y})}function P(y){return oe(y)}function N(y){return P(W(j(y),{replace:!0}))}function fe(y){const I=y.matched[y.matched.length-1];if(I&&I.redirect){const{redirect:R}=I;let L=typeof R=="function"?R(y):R;return typeof L=="string"&&(L=L.includes("?")||L.includes("#")?L=j(L):{path:L},L.params={}),W({query:y.query,hash:y.hash,params:L.path!=null?{}:y.params},L)}}function oe(y,I){const R=u=$(y),L=l.value,ee=y.state,d=y.force,p=y.replace===!0,m=fe(R);if(m)return oe(W(j(m),{state:typeof m=="object"?W({},ee,m.state):ee,force:d,replace:p}),I||R);const _=R;_.redirectedFrom=I;let v;return!d&&Du(s,L,R)&&(v=rn(16,{to:_,from:L}),Ve(L,L,!0,!1)),(v?Promise.resolve(v):Be(_,L)).catch(w=>st(w)?st(w,2)?w:ft(w):z(w,_,L)).then(w=>{if(w){if(st(w,2))return oe(W({replace:p},j(w.to),{state:typeof w.to=="object"?W({},ee,w.to.state):ee,force:d}),I||_)}else w=kt(_,L,!0,p,ee);return ut(_,L,w),w})}function Fe(y,I){const R=A(y,I);return R?Promise.reject(R):Promise.resolve()}function ct(y){const I=Bt.values().next().value;return I&&typeof I.runWithContext=="function"?I.runWithContext(y):y()}function Be(y,I){let R;const[L,ee,d]=Sf(y,I);R=Ns(L.reverse(),"beforeRouteLeave",y,I);for(const m of L)m.leaveGuards.forEach(_=>{R.push(_t(_,y,I))});const p=Fe.bind(null,y,I);return R.push(p),je(R).then(()=>{R=[];for(const m of i.list())R.push(_t(m,y,I));return R.push(p),je(R)}).then(()=>{R=Ns(ee,"beforeRouteUpdate",y,I);for(const m of ee)m.updateGuards.forEach(_=>{R.push(_t(_,y,I))});return R.push(p),je(R)}).then(()=>{R=[];for(const m of d)if(m.beforeEnter)if(Ne(m.beforeEnter))for(const _ of m.beforeEnter)R.push(_t(_,y,I));else R.push(_t(m.beforeEnter,y,I));return R.push(p),je(R)}).then(()=>(y.matched.forEach(m=>m.enterCallbacks={}),R=Ns(d,"beforeRouteEnter",y,I,ct),R.push(p),je(R))).then(()=>{R=[];for(const m of o.list())R.push(_t(m,y,I));return R.push(p),je(R)}).catch(m=>st(m,8)?m:Promise.reject(m))}function ut(y,I,R){a.list().forEach(L=>ct(()=>L(y,I,R)))}function kt(y,I,R,L,ee){const d=A(y,I);if(d)return d;const p=I===dt,m=Wt?history.state:{};R&&(L||p?r.replace(y.fullPath,W({scroll:p&&m&&m.scroll},ee)):r.push(y.fullPath,ee)),l.value=y,Ve(y,I,R,p),ft()}let qe;function cn(){qe||(qe=r.listen((y,I,R)=>{if(!zn.listening)return;const L=$(y),ee=fe(L);if(ee){oe(W(ee,{replace:!0,force:!0}),L).catch(Rn);return}u=L;const d=l.value;Wt&&Hu(yi(d.fullPath,R.delta),xs()),Be(L,d).catch(p=>st(p,12)?p:st(p,2)?(oe(W(j(p.to),{force:!0}),L).then(m=>{st(m,20)&&!R.delta&&R.type===Fn.pop&&r.go(-1,!1)}).catch(Rn),Promise.reject()):(R.delta&&r.go(-R.delta,!1),z(p,L,d))).then(p=>{p=p||kt(L,d,!1),p&&(R.delta&&!st(p,8)?r.go(-R.delta,!1):R.type===Fn.pop&&st(p,20)&&r.go(-1,!1)),ut(L,d,p)}).catch(Rn)}))}let Nt=hn(),ce=hn(),Z;function z(y,I,R){ft(y);const L=ce.list();return L.length?L.forEach(ee=>ee(y,I,R)):console.error(y),Promise.reject(y)}function tt(){return Z&&l.value!==dt?Promise.resolve():new Promise((y,I)=>{Nt.add([y,I])})}function ft(y){return Z||(Z=!y,cn(),Nt.list().forEach(([I,R])=>y?R(y):I()),Nt.reset()),y}function Ve(y,I,R,L){const{scrollBehavior:ee}=e;if(!Wt||!ee)return Promise.resolve();const d=!R&&Ku(yi(y.fullPath,0))||(L||!R)&&history.state&&history.state.scroll||null;return $o().then(()=>ee(y,I,d)).then(p=>p&&Vu(p)).catch(p=>z(p,y,I))}const Se=y=>r.go(y);let Ft;const Bt=new Set,zn={currentRoute:l,listening:!0,addRoute:g,removeRoute:b,clearRoutes:t.clearRoutes,hasRoute:x,getRoutes:S,resolve:$,options:e,push:P,replace:N,go:Se,back:()=>Se(-1),forward:()=>Se(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:ce.add,isReady:tt,install(y){const I=this;y.component("RouterLink",_f),y.component("RouterView",ka),y.config.globalProperties.$router=I,Object.defineProperty(y.config.globalProperties,"$route",{enumerable:!0,get:()=>jt(l)}),Wt&&!Ft&&l.value===dt&&(Ft=!0,P(r.location).catch(ee=>{}));const R={};for(const ee in dt)Object.defineProperty(R,ee,{get:()=>l.value[ee],enumerable:!0});y.provide($r,I),y.provide(jr,Po(R)),y.provide(ir,l);const L=y.unmount;Bt.add(y),y.unmount=function(){Bt.delete(y),Bt.size<1&&(u=dt,qe&&qe(),qe=null,l.value=dt,Ft=!1,Z=!1),L()}}};function je(y){return y.reduce((I,R)=>I.then(()=>ct(R)),Promise.resolve())}return zn}function Sf(e,t){const n=[],s=[],r=[],i=Math.max(t.matched.length,e.matched.length);for(let o=0;o<i;o++){const a=t.matched[o];a&&(e.matched.find(u=>sn(u,a))?s.push(a):n.push(a));const l=e.matched[o];l&&(t.matched.find(u=>sn(u,l))||r.push(l))}return[n,s,r]}function Ta(e){return Ze(jr)}const Ef=["type"],Pa=he({__name:"ButtonComponent",props:{type:{type:String,default:"button"}},setup(e){return(t,n)=>(Y(),le("button",{type:e.type,class:"text-lg border-2 rounded-md p-2 hover:bg-gray-300 active:bg-gray-300"},[Qs(t.$slots,"default")],8,Ef))}}),xf={class:"w-full py-4 px-4 pr-6"},kf={class:"flex justify-between items-center"},Tf=he({__name:"HeaderComponent",setup(e){const t=Ta(),n=Ae(()=>t.path==="/");return(s,r)=>{const i=Bo("RouterLink");return Y(),le("header",xf,[Q("div",kf,[K(i,{to:"/"},{default:Xe(()=>r[0]||(r[0]=[Q("h1",null,"K&A",-1)])),_:1}),n.value?(Y(),Ue(i,{key:0,id:"form-button",to:"/formulaire"},{default:Xe(()=>[K(Pa,null,{default:Xe(()=>r[1]||(r[1]=[Or(" Je veux participer ")])),_:1})]),_:1})):Es("",!0)])])}}}),Pf=he({__name:"FaqButtonComponent",setup(e){const t=Ta(),n=Ae(()=>t.path==="/faq");return(s,r)=>{const i=Bo("RouterLink");return n.value?Es("",!0):(Y(),Ue(i,{key:0,to:"faq"},{default:Xe(()=>r[0]||(r[0]=[Q("span",{class:"text-lg text-white"},"FAQ →",-1)])),_:1}))}}}),Of={class:"w-full flex-col flex items-center h-32 bg-gray-400"},Rf={class:"max-w-7xl flex flex-row justify-end items-center w-full py-16"},Cf=he({__name:"FooterComponent",setup(e){return(t,n)=>(Y(),le("div",Of,[Q("div",Rf,[K(Pf)])]))}}),Af={class:"relative flex flex-col w-[100vw] items-center bg-gray-200 z-20"},$f={class:"max-w-7xl w-full flex-col flex items-center"},jf=he({__name:"App",setup(e){return(t,n)=>(Y(),le(ke,null,[n[0]||(n[0]=Q("div",{class:"h-[25vh] bg-gray-200 fixed w-[100vw] z-10"},null,-1)),Q("div",Af,[Q("div",$f,[K(Tf),K(jt(ka))]),K(Cf)])],64))}}),Dt=(e,t)=>{const n=e.__vccOpts||e;for(const[s,r]of t)n[s]=r;return n},If={},Lf={class:"mt-8 text-center"};function Df(e,t){return Y(),le("h3",Lf,"4 avenue du Mariage, Saint-Ciboire")}const Mf=Dt(If,[["render",Df]]),Uf={},Nf={class:"mt-8 text-center"};function Ff(e,t){return Y(),le("h3",Nf,"6 septembre 2025")}const Bf=Dt(Uf,[["render",Ff]]),qf={},Vf={class:"mt-20 lg:text-xl lg:leading-10! text-center text-md leading-7!"};function Hf(e,t){return Y(),le("p",Vf," petite histoire sur Kim et moi. Vestibulum eleifend eget lorem et venenatis. Nulla et sapien luctus, ultrices lectus vel, suscipit ante. Curabitur eget sagittis erat. Cras sed auctor nisi, quis tempor urna. Aliquam non porttitor orci. Curabitur blandit tristique arcu, eu laoreet lectus mollis nec. Maecenas vel ante efficitur, dapibus mauris ac, dictum velit. Proin sed justo vel turpis lobortis mollis at at nulla. Donec aliquam leo neque, sit amet dignissim metus tincidunt faucibus. Proin euismod pretium lacus id sagittis. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Ut laoreet ante eu elementum iaculis. Nullam facilisis interdum ex ut suscipit. Praesent elementum sollicitudin quam, vitae efficitur est malesuada eget. Curabitur cursus arcu sit amet sollicitudin cursus. ")}const Kf=Dt(qf,[["render",Hf]]),zf="/assets/photo-B_aETDzm.png",Wf={},Jf={class:"self-center lg:mt-36 mt-16 max-w-[32rem] mx-4 lg:mx-0 rounded-t-full overflow-hidden"};function Gf(e,t){return Y(),le("div",Jf,t[0]||(t[0]=[Q("img",{src:zf},null,-1)]))}const ji=Dt(Wf,[["render",Gf]]),Qf={class:"mt-16 flex w-full gap-8 lg:flex-row flex-col px-4 pr-6 mb-16"},Yf={class:"flex-3 items-center flex-col flex"},Xf={class:"lg:hidden"},Zf={class:"flex-2 lg:block hidden"},Ir=he({__name:"LayoutComponent",setup(e){return(t,n)=>(Y(),le("div",Qf,[Q("div",Yf,[n[0]||(n[0]=Q("h1",{class:"lg:text-7xl! text-[3.25rem]!"},"Kim & Arnaud",-1)),Qs(t.$slots,"up"),Q("div",Xf,[K(ji)]),Qs(t.$slots,"down")]),Q("div",Zf,[K(ji)])]))}}),ed=he({__name:"HomeView",setup(e){return(t,n)=>(Y(),Ue(Ir,null,{up:Xe(()=>[K(Bf),K(Mf)]),down:Xe(()=>[K(Kf)]),_:1}))}}),td=["for"],nd=["id","value","placeholder"],sd={key:0,class:"text-sm text-red-700 mt-1"},Oa=he({__name:"TextInput",props:{id:{type:String,required:!0},label:{type:String,required:!0},modelValue:{type:String,required:!0},error:{type:Boolean,default:!1},errorMessage:{type:String,default:""},placeholder:{type:String,default:""}},emits:["update:modelValue"],setup(e){return(t,n)=>(Y(),le("div",null,[Q("label",{for:e.id,class:"block text-lg"},Qt(e.label),9,td),Q("input",{type:"text",id:e.id,value:e.modelValue,onInput:n[0]||(n[0]=s=>t.$emit("update:modelValue",s.target.value)),class:qn(["mt-4 block w-full rounded-md border-2 py-2 px-4 placeholder:text-sm placeholder:text-gray-500",{"border-red-700":e.error}]),placeholder:e.placeholder},null,42,nd),e.error?(Y(),le("p",sd,Qt(e.errorMessage),1)):Es("",!0)]))}}),rd=he({__name:"FullNameField",props:{modelValue:{type:String,required:!0},error:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e){return(t,n)=>(Y(),Ue(Oa,{id:"fullName",label:"Nom complet*",modelValue:e.modelValue,"onUpdate:modelValue":n[0]||(n[0]=s=>t.$emit("update:modelValue",s)),error:e.error,errorMessage:"Le nom complet est requis.",placeholder:"Entrez votre nom complet"},null,8,["modelValue","error"]))}}),id={},od={width:"13",height:"7",viewBox:"0 0 13 7",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function ad(e,t){return Y(),le("svg",od,t[0]||(t[0]=[Q("line",{y1:"-0.5",x2:"7.90985",y2:"-0.5",transform:"matrix(0.75537 0.655299 -0.731498 0.681843 0.742764 0.707886)",stroke:"black"},null,-1),Q("line",{y1:"-0.5",x2:"7.87986",y2:"-0.5",transform:"matrix(-0.731498 0.681843 -0.75537 -0.655299 11.8842 0)",stroke:"black"},null,-1)]))}const ld=Dt(id,[["render",ad]]),cd=["for"],ud=["id","value"],fd=["value"],dd={class:"pointer-events-none inset-y-0 right-0 flex items-center"},hd={key:0,class:"text-sm text-red-700 mt-1"},pd=he({__name:"SelectInput",props:{id:{type:String,required:!0},label:{type:String,required:!0},modelValue:{type:String,required:!0},options:{type:Array,required:!0},error:{type:Boolean,default:!1},errorMessage:{type:String,default:""}},emits:["update:modelValue"],setup(e){return(t,n)=>(Y(),le("div",null,[Q("label",{for:e.id,class:"block text-lg"},Qt(e.label),9,cd),Q("div",{class:qn(["mt-4 w-full rounded-md border-2 py-2 px-4 flex justify-between",{"border-red-700":e.error}])},[Q("select",{id:e.id,value:e.modelValue,onChange:n[0]||(n[0]=s=>t.$emit("update:modelValue",s.target.value)),class:"w-full appearance-none focus:outline-none text-sm leading-[1.4rem]!"},[n[1]||(n[1]=Q("option",{value:"",disabled:""},"Sélectionnez une option",-1)),(Y(!0),le(ke,null,nc(e.options,s=>(Y(),le("option",{key:s.value,value:s.value},Qt(s.label),9,fd))),128))],40,ud),Q("div",dd,[K(ld)])],2),e.error?(Y(),le("p",hd,Qt(e.errorMessage),1)):Es("",!0)]))}}),gd=he({__name:"MenuField",props:{modelValue:{type:String,required:!0},error:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e){const t=[{value:"classic",label:"Menu Classique"},{value:"vegetarian",label:"Menu Végétarien"},{value:"gourmet",label:"Menu Gourmet"}];return(n,s)=>(Y(),Ue(pd,{id:"selectedMenu",label:"Choix du menu*",modelValue:e.modelValue,"onUpdate:modelValue":s[0]||(s[0]=r=>n.$emit("update:modelValue",r)),options:t,error:e.error,errorMessage:"Veuillez choisir un menu."},null,8,["modelValue","error"]))}}),md=he({__name:"SpecialRequestField",props:{modelValue:{type:String,required:!0}},emits:["update:modelValue"],setup(e){return(t,n)=>(Y(),Ue(Oa,{id:"specialRequest",label:"Demande spéciale musicale",modelValue:e.modelValue,"onUpdate:modelValue":n[0]||(n[0]=s=>t.$emit("update:modelValue",s)),placeholder:"Dark Horses by Katy Perry"},null,8,["modelValue"]))}}),_d="modulepreload",yd=function(e){return"/"+e},Ii={},on=function(t,n,s){let r=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=Promise.allSettled(n.map(l=>{if(l=yd(l),l in Ii)return;Ii[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":_d,u||(f.as="script"),f.crossOrigin="",f.href=l,a&&f.setAttribute("nonce",a),document.head.appendChild(f),u)return new Promise((h,g)=>{f.addEventListener("load",h),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return r.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})},bd=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>on(async()=>{const{default:s}=await Promise.resolve().then(()=>ln);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)};class Lr extends Error{constructor(t,n="FunctionsError",s){super(t),this.name=n,this.context=s}}class wd extends Lr{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class vd extends Lr{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Sd extends Lr{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var or;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(or||(or={}));var Ed=function(e,t,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(s.next(c))}catch(f){o(f)}}function l(c){try{u(s.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((s=s.apply(e,t||[])).next())})};class xd{constructor(t,{headers:n={},customFetch:s,region:r=or.Any}={}){this.url=t,this.headers=n,this.region=r,this.fetch=bd(s)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var s;return Ed(this,void 0,void 0,function*(){try{const{headers:r,method:i,body:o}=n;let a={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let u;o&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const c=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),r),body:u}).catch(b=>{throw new wd(b)}),f=c.headers.get("x-relay-error");if(f&&f==="true")throw new vd(c);if(!c.ok)throw new Sd(c);let h=((s=c.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),g;return h==="application/json"?g=yield c.json():h==="application/octet-stream"?g=yield c.blob():h==="text/event-stream"?g=c:h==="multipart/form-data"?g=yield c.formData():g=yield c.text(),{data:g,error:null}}catch(r){return{data:null,error:r}}})}}function kd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Td(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function s(){return this instanceof s?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(s){var r=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(n,s,r.get?r:{enumerable:!0,get:function(){return e[s]}})}),n}var de={},pn={},gn={},mn={},_n={},yn={},Pd=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},an=Pd();const Od=an.fetch,Ra=an.fetch.bind(an),Ca=an.Headers,Rd=an.Request,Cd=an.Response,ln=Object.freeze(Object.defineProperty({__proto__:null,Headers:Ca,Request:Rd,Response:Cd,default:Ra,fetch:Od},Symbol.toStringTag,{value:"Module"})),Ad=Td(ln);var Qn={},Li;function Aa(){if(Li)return Qn;Li=1,Object.defineProperty(Qn,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Qn.default=e,Qn}var Di;function $a(){if(Di)return yn;Di=1;var e=yn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(yn,"__esModule",{value:!0});const t=e(Ad),n=e(Aa());class s{constructor(i){this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=i.headers,this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=i.shouldThrowOnError,this.signal=i.signal,this.isMaybeSingle=i.isMaybeSingle,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=Object.assign({},this.headers),this.headers[i]=o,this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var c,f,h;let g=null,b=null,S=null,x=u.status,$=u.statusText;if(u.ok){if(this.method!=="HEAD"){const N=await u.text();N===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?b=N:b=JSON.parse(N))}const A=(c=this.headers.Prefer)===null||c===void 0?void 0:c.match(/count=(exact|planned|estimated)/),P=(f=u.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");A&&P&&P.length>1&&(S=parseInt(P[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(b)&&(b.length>1?(g={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,S=null,x=406,$="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{const A=await u.text();try{g=JSON.parse(A),Array.isArray(g)&&u.status===404&&(b=[],g=null,x=200,$="OK")}catch{u.status===404&&A===""?(x=204,$="No Content"):g={message:A}}if(g&&this.isMaybeSingle&&(!((h=g==null?void 0:g.details)===null||h===void 0)&&h.includes("0 rows"))&&(g=null,x=200,$="OK"),g&&this.shouldThrowOnError)throw new n.default(g)}return{error:g,data:b,count:S,status:x,statusText:$}});return this.shouldThrowOnError||(l=l.catch(u=>{var c,f,h;return{error:{message:`${(c=u==null?void 0:u.name)!==null&&c!==void 0?c:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(f=u==null?void 0:u.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(h=u==null?void 0:u.code)!==null&&h!==void 0?h:""}`},data:null,count:null,status:0,statusText:""}})),l.then(i,o)}}return yn.default=s,yn}var Mi;function ja(){if(Mi)return _n;Mi=1;var e=_n.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(_n,"__esModule",{value:!0});const t=e($a());class n extends t.default{select(r){let i=!1;const o=(r??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(r,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const u=l?`${l}.order`:"order",c=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${c?`${c},`:""}${r}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(r,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${r}`),this}range(r,i,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${r}`),this.url.searchParams.set(u,`${i-r+1}`),this}abortSignal(r){return this.signal=r,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:r=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:u="text"}={}){var c;const f=[r?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),h=(c=this.headers.Accept)!==null&&c!==void 0?c:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${u}; for="${h}"; options=${f};`,u==="json"?this:this}rollback(){var r;return((r=this.headers.Prefer)!==null&&r!==void 0?r:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return _n.default=n,_n}var Ui;function Dr(){if(Ui)return mn;Ui=1;var e=mn.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(mn,"__esModule",{value:!0});const t=e(ja());class n extends t.default{eq(r,i){return this.url.searchParams.append(r,`eq.${i}`),this}neq(r,i){return this.url.searchParams.append(r,`neq.${i}`),this}gt(r,i){return this.url.searchParams.append(r,`gt.${i}`),this}gte(r,i){return this.url.searchParams.append(r,`gte.${i}`),this}lt(r,i){return this.url.searchParams.append(r,`lt.${i}`),this}lte(r,i){return this.url.searchParams.append(r,`lte.${i}`),this}like(r,i){return this.url.searchParams.append(r,`like.${i}`),this}likeAllOf(r,i){return this.url.searchParams.append(r,`like(all).{${i.join(",")}}`),this}likeAnyOf(r,i){return this.url.searchParams.append(r,`like(any).{${i.join(",")}}`),this}ilike(r,i){return this.url.searchParams.append(r,`ilike.${i}`),this}ilikeAllOf(r,i){return this.url.searchParams.append(r,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(r,i){return this.url.searchParams.append(r,`ilike(any).{${i.join(",")}}`),this}is(r,i){return this.url.searchParams.append(r,`is.${i}`),this}in(r,i){const o=Array.from(new Set(i)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(r,`in.(${o})`),this}contains(r,i){return typeof i=="string"?this.url.searchParams.append(r,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(r,`cs.{${i.join(",")}}`):this.url.searchParams.append(r,`cs.${JSON.stringify(i)}`),this}containedBy(r,i){return typeof i=="string"?this.url.searchParams.append(r,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(r,`cd.{${i.join(",")}}`):this.url.searchParams.append(r,`cd.${JSON.stringify(i)}`),this}rangeGt(r,i){return this.url.searchParams.append(r,`sr.${i}`),this}rangeGte(r,i){return this.url.searchParams.append(r,`nxl.${i}`),this}rangeLt(r,i){return this.url.searchParams.append(r,`sl.${i}`),this}rangeLte(r,i){return this.url.searchParams.append(r,`nxr.${i}`),this}rangeAdjacent(r,i){return this.url.searchParams.append(r,`adj.${i}`),this}overlaps(r,i){return typeof i=="string"?this.url.searchParams.append(r,`ov.${i}`):this.url.searchParams.append(r,`ov.{${i.join(",")}}`),this}textSearch(r,i,{config:o,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const u=o===void 0?"":`(${o})`;return this.url.searchParams.append(r,`${l}fts${u}.${i}`),this}match(r){return Object.entries(r).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(r,i,o){return this.url.searchParams.append(r,`not.${i}.${o}`),this}or(r,{foreignTable:i,referencedTable:o=i}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${r})`),this}filter(r,i,o){return this.url.searchParams.append(r,`${i}.${o}`),this}}return mn.default=n,mn}var Ni;function Ia(){if(Ni)return gn;Ni=1;var e=gn.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(gn,"__esModule",{value:!0});const t=e(Dr());class n{constructor(r,{headers:i={},schema:o,fetch:a}){this.url=r,this.headers=i,this.schema=o,this.fetch=a}select(r,{head:i=!1,count:o}={}){const a=i?"HEAD":"GET";let l=!1;const u=(r??"*").split("").map(c=>/\s/.test(c)&&!l?"":(c==='"'&&(l=!l),c)).join("");return this.url.searchParams.set("select",u),o&&(this.headers.Prefer=`count=${o}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(r,{count:i,defaultToNull:o=!0}={}){const a="POST",l=[];if(this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(r)){const u=r.reduce((c,f)=>c.concat(Object.keys(f)),[]);if(u.length>0){const c=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",c.join(","))}}return new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:this.fetch,allowEmpty:!1})}upsert(r,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){const u="POST",c=[`resolution=${o?"ignore":"merge"}-duplicates`];if(i!==void 0&&this.url.searchParams.set("on_conflict",i),this.headers.Prefer&&c.push(this.headers.Prefer),a&&c.push(`count=${a}`),l||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(r)){const f=r.reduce((h,g)=>h.concat(Object.keys(g)),[]);if(f.length>0){const h=[...new Set(f)].map(g=>`"${g}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:this.fetch,allowEmpty:!1})}update(r,{count:i}={}){const o="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),this.headers.Prefer=a.join(","),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:this.fetch,allowEmpty:!1})}delete({count:r}={}){const i="DELETE",o=[];return r&&o.push(`count=${r}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new t.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return gn.default=n,gn}var bn={},wn={},Fi;function $d(){return Fi||(Fi=1,Object.defineProperty(wn,"__esModule",{value:!0}),wn.version=void 0,wn.version="0.0.0-automated"),wn}var Bi;function jd(){if(Bi)return bn;Bi=1,Object.defineProperty(bn,"__esModule",{value:!0}),bn.DEFAULT_HEADERS=void 0;const e=$d();return bn.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e.version}`},bn}var qi;function Id(){if(qi)return pn;qi=1;var e=pn.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(pn,"__esModule",{value:!0});const t=e(Ia()),n=e(Dr()),s=jd();class r{constructor(o,{headers:a={},schema:l,fetch:u}={}){this.url=o,this.headers=Object.assign(Object.assign({},s.DEFAULT_HEADERS),a),this.schemaName=l,this.fetch=u}from(o){const a=new URL(`${this.url}/${o}`);return new t.default(a,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new r(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,a={},{head:l=!1,get:u=!1,count:c}={}){let f;const h=new URL(`${this.url}/rpc/${o}`);let g;l||u?(f=l?"HEAD":"GET",Object.entries(a).filter(([S,x])=>x!==void 0).map(([S,x])=>[S,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([S,x])=>{h.searchParams.append(S,x)})):(f="POST",g=a);const b=Object.assign({},this.headers);return c&&(b.Prefer=`count=${c}`),new n.default({method:f,url:h,headers:b,schema:this.schemaName,body:g,fetch:this.fetch,allowEmpty:!1})}}return pn.default=r,pn}var Vi;function Ld(){if(Vi)return de;Vi=1;var e=de.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(de,"__esModule",{value:!0}),de.PostgrestError=de.PostgrestBuilder=de.PostgrestTransformBuilder=de.PostgrestFilterBuilder=de.PostgrestQueryBuilder=de.PostgrestClient=void 0;const t=e(Id());de.PostgrestClient=t.default;const n=e(Ia());de.PostgrestQueryBuilder=n.default;const s=e(Dr());de.PostgrestFilterBuilder=s.default;const r=e(ja());de.PostgrestTransformBuilder=r.default;const i=e($a());de.PostgrestBuilder=i.default;const o=e(Aa());return de.PostgrestError=o.default,de.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:r.default,PostgrestBuilder:i.default,PostgrestError:o.default},de}var Dd=Ld();const Md=kd(Dd),{PostgrestClient:Ud,PostgrestQueryBuilder:Cp,PostgrestFilterBuilder:Ap,PostgrestTransformBuilder:$p,PostgrestBuilder:jp,PostgrestError:Ip}=Md,Nd="2.11.2",Fd={"X-Client-Info":`realtime-js/${Nd}`},Bd="1.0.0",La=1e4,qd=1e3;var tn;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(tn||(tn={}));var Re;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Re||(Re={}));var De;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(De||(De={}));var ar;(function(e){e.websocket="websocket"})(ar||(ar={}));var At;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(At||(At={}));class Vd{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),s=new TextDecoder;return this._decodeBroadcast(t,n,s)}_decodeBroadcast(t,n,s){const r=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=s.decode(t.slice(o,o+r));o=o+r;const l=s.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(s.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class Da{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ne;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ne||(ne={}));const Hi=(e,t,n={})=>{var s;const r=(s=n.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(t).reduce((i,o)=>(i[o]=Hd(o,e,t,r),i),{})},Hd=(e,t,n,s)=>{const r=t.find(a=>a.name===e),i=r==null?void 0:r.type,o=n[e];return i&&!s.includes(i)?Ma(i,o):lr(o)},Ma=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return Jd(t,n)}switch(e){case ne.bool:return Kd(t);case ne.float4:case ne.float8:case ne.int2:case ne.int4:case ne.int8:case ne.numeric:case ne.oid:return zd(t);case ne.json:case ne.jsonb:return Wd(t);case ne.timestamp:return Gd(t);case ne.abstime:case ne.date:case ne.daterange:case ne.int4range:case ne.int8range:case ne.money:case ne.reltime:case ne.text:case ne.time:case ne.timestamptz:case ne.timetz:case ne.tsrange:case ne.tstzrange:return lr(t);default:return lr(t)}},lr=e=>e,Kd=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},zd=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Wd=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Jd=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,s=e[n];if(e[0]==="{"&&s==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Ma(t,a))}return e},Gd=e=>typeof e=="string"?e.replace(" ","T"):e,Ua=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Fs{constructor(t,n,s={},r=La){this.channel=t,this.event=n,this.payload=s,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var s;return this._hasReceived(t)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(s=>s.status===t).forEach(s=>s.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Ki;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Ki||(Ki={}));class An{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},r=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=An.syncState(this.state,r,i,o),this.pendingDiffs.forEach(l=>{this.state=An.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(s.diff,{},r=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=An.syncDiff(this.state,r,i,o),a())}),this.onJoin((r,i,o)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:i,newPresences:o})}),this.onLeave((r,i,o)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,s,r){const i=this.cloneDeep(t),o=this.transformState(n),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const f=i[u];if(f){const h=c.map(x=>x.presence_ref),g=f.map(x=>x.presence_ref),b=c.filter(x=>g.indexOf(x.presence_ref)<0),S=f.filter(x=>h.indexOf(x.presence_ref)<0);b.length>0&&(a[u]=b),S.length>0&&(l[u]=S)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},s,r)}static syncDiff(t,n,s,r){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),r||(r=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(l),c.length>0){const f=t[a].map(g=>g.presence_ref),h=c.filter(g=>f.indexOf(g.presence_ref)<0);t[a].unshift(...h)}s(a,c,l)}),this.map(o,(a,l)=>{let u=t[a];if(!u)return;const c=l.map(f=>f.presence_ref);u=u.filter(f=>c.indexOf(f.presence_ref)<0),t[a]=u,r(a,u,l),u.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(s=>n(s,t[s]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,s)=>{const r=t[s];return"metas"in r?n[s]=r.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[s]=r,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var zi;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(zi||(zi={}));var Wi;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Wi||(Wi={}));var it;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(it||(it={}));class Mr{constructor(t,n={config:{}},s){this.topic=t,this.params=n,this.socket=s,this.bindings={},this.state=Re.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Fs(this,De.join,this.params,this.timeout),this.rejoinTimer=new Da(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Re.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(r=>r.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Re.closed,this.socket._remove(this)}),this._onError(r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=Re.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Re.errored,this.rejoinTimer.scheduleTimeout())}),this._on(De.reply,{},(r,i)=>{this._trigger(this._replyEventName(i),r)}),this.presence=new An(this),this.broadcastEndpointURL=Ua(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var s,r;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(c=>t==null?void 0:t(it.CHANNEL_ERROR,c)),this._onClose(()=>t==null?void 0:t(it.CLOSED));const l={},u={broadcast:i,presence:o,postgres_changes:(r=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(c=>c.filter))!==null&&r!==void 0?r:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:c})=>{var f;if(this.socket.setAuth(),c===void 0){t==null||t(it.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,g=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,b=[];for(let S=0;S<g;S++){const x=h[S],{filter:{event:$,schema:j,table:A,filter:P}}=x,N=c&&c[S];if(N&&N.event===$&&N.schema===j&&N.table===A&&N.filter===P)b.push(Object.assign(Object.assign({},x),{id:N.id}));else{this.unsubscribe(),t==null||t(it.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(it.SUBSCRIBED);return}}).receive("error",c=>{t==null||t(it.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(it.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,s){return this._on(t,n,s)}async send(t,n={}){var s,r;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((r=u.body)===null||r===void 0?void 0:r.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Re.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(De.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(s=>{const r=new Fs(this,De.leave,{},t);r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})})}async _fetchWithTimeout(t,n,s){const r=new AbortController,i=setTimeout(()=>r.abort(),s),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:r.signal}));return clearTimeout(i),o}_push(t,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new Fs(this,t,n,s);return this._canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}_onMessage(t,n,s){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,s){var r,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=De;if(s&&[a,l,u,c].indexOf(o)>=0&&s!==this._joinRef())return;let h=this._onMessage(o,n,s);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(g=>{var b,S,x;return((b=g.filter)===null||b===void 0?void 0:b.event)==="*"||((x=(S=g.filter)===null||S===void 0?void 0:S.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(g=>g.callback(h,s)):(i=this.bindings[o])===null||i===void 0||i.filter(g=>{var b,S,x,$,j,A;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const P=g.id,N=(b=g.filter)===null||b===void 0?void 0:b.event;return P&&((S=n.ids)===null||S===void 0?void 0:S.includes(P))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const P=(j=($=g==null?void 0:g.filter)===null||$===void 0?void 0:$.event)===null||j===void 0?void 0:j.toLocaleLowerCase();return P==="*"||P===((A=n==null?void 0:n.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof h=="object"&&"ids"in h){const b=h.data,{schema:S,table:x,commit_timestamp:$,type:j,errors:A}=b;h=Object.assign(Object.assign({},{schema:S,table:x,commit_timestamp:$,eventType:j,new:{},old:{},errors:A}),this._getPayloadRecords(b))}g.callback(h,s)})}_isClosed(){return this.state===Re.closed}_isJoined(){return this.state===Re.joined}_isJoining(){return this.state===Re.joining}_isLeaving(){return this.state===Re.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,s){const r=t.toLocaleLowerCase(),i={type:r,filter:n,callback:s};return this.bindings[r]?this.bindings[r].push(i):this.bindings[r]=[i],this}_off(t,n){const s=t.toLocaleLowerCase();return this.bindings[s]=this.bindings[s].filter(r=>{var i;return!(((i=r.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===s&&Mr.isEqual(r.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const s in t)if(t[s]!==n[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(De.close,{},t)}_onError(t){this._on(De.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Re.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Hi(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Hi(t.columns,t.old_record)),n}}const Qd=()=>{},Yd=typeof WebSocket<"u",Xd=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Zd{constructor(t,n){var s;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Fd,this.params={},this.timeout=La,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Qd,this.conn=null,this.sendBuffer=[],this.serializer=new Vd,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>on(async()=>{const{default:l}=await Promise.resolve().then(()=>ln);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${ar.websocket}`,this.httpEndpoint=Ua(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const r=(s=n==null?void 0:n.params)===null||s===void 0?void 0:s.apikey;if(r&&(this.accessTokenValue=r,this.apiKey=r),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Da(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Yd){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new eh(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),on(async()=>{const{default:t}=await import("./browser-eapLvn6H.js").then(n=>n.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Bd}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),t}log(t,n,s){this.logger(t,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case tn.connecting:return At.Connecting;case tn.open:return At.Open;case tn.closing:return At.Closing;default:return At.Closed}}isConnected(){return this.connectionState()===At.Open}channel(t,n={config:{}}){const s=new Mr(`realtime:${t}`,n,this);return this.channels.push(s),s}push(t){const{topic:n,event:s,payload:r,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${s} (${i})`,r),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let s=null;try{s=JSON.parse(atob(n.split(".")[1]))}catch{}if(s&&s.exp&&!(Math.floor(Date.now()/1e3)-s.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${s.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${s.exp}`);this.accessTokenValue=n,this.channels.forEach(r=>{n&&r.updateJoinPayload({access_token:n}),r.joinedOnce&&r._isJoined()&&r._push(De.access_token,{access_token:n})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(qd,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(s=>s.topic===t&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:s,event:r,payload:i,ref:o}=n;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${s} ${r} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(s)).forEach(a=>a._trigger(r,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(De.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const s=t.match(/\?/)?"&":"?",r=new URLSearchParams(n);return`${t}${s}${r}`}_workerObjectUrl(t){let n;if(t)n=t;else{const s=new Blob([Xd],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}}class eh{constructor(t,n,s){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=tn.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=s.close}}class Ur extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ue(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class th extends Ur{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class cr extends Ur{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var nh=function(e,t,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(s.next(c))}catch(f){o(f)}}function l(c){try{u(s.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((s=s.apply(e,t||[])).next())})};const Na=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>on(async()=>{const{default:s}=await Promise.resolve().then(()=>ln);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)},sh=()=>nh(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield on(()=>Promise.resolve().then(()=>ln),void 0)).Response:Response}),ur=e=>{if(Array.isArray(e))return e.map(n=>ur(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,s])=>{const r=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[r]=ur(s)}),t};var Mt=function(e,t,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(s.next(c))}catch(f){o(f)}}function l(c){try{u(s.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((s=s.apply(e,t||[])).next())})};const Bs=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),rh=(e,t,n)=>Mt(void 0,void 0,void 0,function*(){const s=yield sh();e instanceof s&&!(n!=null&&n.noResolveJson)?e.json().then(r=>{t(new th(Bs(r),e.status||500))}).catch(r=>{t(new cr(Bs(r),r))}):t(new cr(Bs(e),e))}),ih=(e,t,n,s)=>{const r={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s&&(r.body=JSON.stringify(s)),Object.assign(Object.assign({},r),n))};function Kn(e,t,n,s,r,i){return Mt(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(n,ih(t,s,r,i)).then(l=>{if(!l.ok)throw l;return s!=null&&s.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>rh(l,a,s))})})}function fs(e,t,n,s){return Mt(this,void 0,void 0,function*(){return Kn(e,"GET",t,n,s)})}function yt(e,t,n,s,r){return Mt(this,void 0,void 0,function*(){return Kn(e,"POST",t,s,r,n)})}function oh(e,t,n,s,r){return Mt(this,void 0,void 0,function*(){return Kn(e,"PUT",t,s,r,n)})}function ah(e,t,n,s){return Mt(this,void 0,void 0,function*(){return Kn(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),s)})}function Fa(e,t,n,s,r){return Mt(this,void 0,void 0,function*(){return Kn(e,"DELETE",t,s,r,n)})}var xe=function(e,t,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(s.next(c))}catch(f){o(f)}}function l(c){try{u(s.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((s=s.apply(e,t||[])).next())})};const lh={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ji={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ch{constructor(t,n={},s,r){this.url=t,this.headers=n,this.bucketId=s,this.fetch=Na(r)}uploadOrUpdate(t,n,s,r){return xe(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Ji),r);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&s instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",s)):typeof FormData<"u"&&s instanceof FormData?(i=s,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=s,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),r!=null&&r.headers&&(a=Object.assign(Object.assign({},a),r.headers));const u=this._removeEmptyFolders(n),c=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:t,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield f.json();return f.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(ue(i))return{data:null,error:i};throw i}})}upload(t,n,s){return xe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,s)})}uploadToSignedUrl(t,n,s,r){return xe(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:Ji.upsert},r),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&s instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",s)):typeof FormData<"u"&&s instanceof FormData?(l=s,l.append("cacheControl",u.cacheControl)):(l=s,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const f=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:c}),h=yield f.json();return f.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(l){if(ue(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,n){return xe(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t);const r=Object.assign({},this.headers);n!=null&&n.upsert&&(r["x-upsert"]="true");const i=yield yt(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:r}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Ur("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(s){if(ue(s))return{data:null,error:s};throw s}})}update(t,n,s){return xe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,s)})}move(t,n,s){return xe(this,void 0,void 0,function*(){try{return{data:yield yt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}})}copy(t,n,s){return xe(this,void 0,void 0,function*(){try{return{data:{path:(yield yt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}})}createSignedUrl(t,n,s){return xe(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t),i=yield yt(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:n},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const o=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}})}createSignedUrls(t,n,s){return xe(this,void 0,void 0,function*(){try{const r=yield yt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:r.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}})}download(t,n){return xe(this,void 0,void 0,function*(){const r=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield fs(this.fetch,`${this.url}/${r}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(ue(a))return{data:null,error:a};throw a}})}info(t){return xe(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const s=yield fs(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:ur(s),error:null}}catch(s){if(ue(s))return{data:null,error:s};throw s}})}exists(t){return xe(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield ah(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(ue(s)&&s instanceof cr){const r=s.originalError;if([400,404].includes(r==null?void 0:r.status))return{data:!1,error:s}}throw s}})}getPublicUrl(t,n){const s=this._getFinalPath(t),r=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&r.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&r.push(l);let u=r.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${s}${u}`)}}}remove(t){return xe(this,void 0,void 0,function*(){try{return{data:yield Fa(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}})}list(t,n,s){return xe(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},lh),n),{prefix:t||""});return{data:yield yt(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},s),error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const uh="2.7.1",fh={"X-Client-Info":`storage-js/${uh}`};var Vt=function(e,t,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(s.next(c))}catch(f){o(f)}}function l(c){try{u(s.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((s=s.apply(e,t||[])).next())})};class dh{constructor(t,n={},s){this.url=t,this.headers=Object.assign(Object.assign({},fh),n),this.fetch=Na(s)}listBuckets(){return Vt(this,void 0,void 0,function*(){try{return{data:yield fs(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(ue(t))return{data:null,error:t};throw t}})}getBucket(t){return Vt(this,void 0,void 0,function*(){try{return{data:yield fs(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Vt(this,void 0,void 0,function*(){try{return{data:yield yt(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(ue(s))return{data:null,error:s};throw s}})}updateBucket(t,n){return Vt(this,void 0,void 0,function*(){try{return{data:yield oh(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(ue(s))return{data:null,error:s};throw s}})}emptyBucket(t){return Vt(this,void 0,void 0,function*(){try{return{data:yield yt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Vt(this,void 0,void 0,function*(){try{return{data:yield Fa(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}})}}class hh extends dh{constructor(t,n={},s){super(t,n,s)}from(t){return new ch(this.url,this.headers,t,this.fetch)}}const ph="2.48.1";let En="";typeof Deno<"u"?En="deno":typeof document<"u"?En="web":typeof navigator<"u"&&navigator.product==="ReactNative"?En="react-native":En="node";const gh={"X-Client-Info":`supabase-js-${En}/${ph}`},mh={headers:gh},_h={schema:"public"},yh={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},bh={};var wh=function(e,t,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(s.next(c))}catch(f){o(f)}}function l(c){try{u(s.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((s=s.apply(e,t||[])).next())})};const vh=e=>{let t;return e?t=e:typeof fetch>"u"?t=Ra:t=fetch,(...n)=>t(...n)},Sh=()=>typeof Headers>"u"?Ca:Headers,Eh=(e,t,n)=>{const s=vh(n),r=Sh();return(i,o)=>wh(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let u=new r(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),s(i,Object.assign(Object.assign({},o),{headers:u}))})};var xh=function(e,t,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(s.next(c))}catch(f){o(f)}}function l(c){try{u(s.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((s=s.apply(e,t||[])).next())})};function kh(e){return e.replace(/\/$/,"")}function Th(e,t){const{db:n,auth:s,realtime:r,global:i}=e,{db:o,auth:a,realtime:l,global:u}=t,c={db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},a),s),realtime:Object.assign(Object.assign({},l),r),global:Object.assign(Object.assign({},u),i),accessToken:()=>xh(this,void 0,void 0,function*(){return""})};return e.accessToken?c.accessToken=e.accessToken:delete c.accessToken,c}const Ba="2.67.3",Ph="http://localhost:9999",Oh="supabase.auth.token",Rh={"X-Client-Info":`gotrue-js/${Ba}`},Gi=10,fr="X-Supabase-Api-Version",qa={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function Ch(e){return Math.round(Date.now()/1e3)+e}function Ah(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Je=()=>typeof window<"u"&&typeof document<"u",Ot={tested:!1,writable:!1},$n=()=>{if(!Je())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ot.tested)return Ot.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ot.tested=!0,Ot.writable=!0}catch{Ot.tested=!0,Ot.writable=!1}return Ot.writable};function $h(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((r,i)=>{t[i]=r})}catch{}return n.searchParams.forEach((s,r)=>{t[r]=s}),t}const Va=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>on(async()=>{const{default:s}=await Promise.resolve().then(()=>ln);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)},jh=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Ha=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Yn=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Xn=async(e,t)=>{await e.removeItem(t)};function Ih(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",s,r,i,o,a,l,u,c=0;for(e=e.replace("-","+").replace("_","/");c<e.length;)o=t.indexOf(e.charAt(c++)),a=t.indexOf(e.charAt(c++)),l=t.indexOf(e.charAt(c++)),u=t.indexOf(e.charAt(c++)),s=o<<2|a>>4,r=(a&15)<<4|l>>2,i=(l&3)<<6|u,n=n+String.fromCharCode(s),l!=64&&r!=0&&(n=n+String.fromCharCode(r)),u!=64&&i!=0&&(n=n+String.fromCharCode(i));return n}class ks{constructor(){this.promise=new ks.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}ks.promiseConstructor=Promise;function Qi(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=e.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const s=n[1];return JSON.parse(Ih(s))}async function Lh(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Dh(e,t){return new Promise((s,r)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){s(o);return}}catch(o){if(!t(i,o)){r(o);return}}})()})}function Mh(e){return("0"+e.toString(16)).substr(-2)}function Uh(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let r="";for(let i=0;i<56;i++)r+=n.charAt(Math.floor(Math.random()*s));return r}return crypto.getRandomValues(t),Array.from(t,Mh).join("")}async function Nh(e){const n=new TextEncoder().encode(e),s=await crypto.subtle.digest("SHA-256",n),r=new Uint8Array(s);return Array.from(r).map(i=>String.fromCharCode(i)).join("")}function Fh(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Bh(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await Nh(e);return Fh(n)}async function Ht(e,t,n=!1){const s=Uh();let r=s;n&&(r+="/PASSWORD_RECOVERY"),await Ha(e,`${t}-code-verifier`,r);const i=await Bh(s);return[i,s===i?"plain":"s256"]}const qh=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Vh(e){const t=e.headers.get(fr);if(!t||!t.match(qh))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}class Nr extends Error{constructor(t,n,s){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}}function q(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Hh extends Nr{constructor(t,n,s){super(t,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function Kh(e){return q(e)&&e.name==="AuthApiError"}class Ka extends Nr{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Ut extends Nr{constructor(t,n,s,r){super(t,s,r),this.name=n,this.status=s}}class ht extends Ut{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function zh(e){return q(e)&&e.name==="AuthSessionMissingError"}class qs extends Ut{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Zn extends Ut{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class es extends Ut{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Wh(e){return q(e)&&e.name==="AuthImplicitGrantRedirectError"}class Yi extends Ut{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class dr extends Ut{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Vs(e){return q(e)&&e.name==="AuthRetryableFetchError"}class Xi extends Ut{constructor(t,n,s){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}var Jh=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(e);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(e,s[r])&&(n[s[r]]=e[s[r]]);return n};const Ct=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Gh=[502,503,504];async function Zi(e){var t;if(!jh(e))throw new dr(Ct(e),0);if(Gh.includes(e.status))throw new dr(Ct(e),e.status);let n;try{n=await e.json()}catch(i){throw new Ka(Ct(i),i)}let s;const r=Vh(e);if(r&&r.getTime()>=qa["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new Xi(Ct(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(s==="session_not_found")throw new ht}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Xi(Ct(n),e.status,n.weak_password.reasons);throw new Hh(Ct(n),e.status||500,s)}const Qh=(e,t,n,s)=>{const r={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),r.body=JSON.stringify(s),Object.assign(Object.assign({},r),n))};async function V(e,t,n,s){var r;const i=Object.assign({},s==null?void 0:s.headers);i[fr]||(i[fr]=qa["2024-01-01"].name),s!=null&&s.jwt&&(i.Authorization=`Bearer ${s.jwt}`);const o=(r=s==null?void 0:s.query)!==null&&r!==void 0?r:{};s!=null&&s.redirectTo&&(o.redirect_to=s.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Yh(e,t,n+a,{headers:i,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(l):{data:Object.assign({},l),error:null}}async function Yh(e,t,n,s,r,i){const o=Qh(t,s,r,i);let a;try{a=await e(n,Object.assign({},o))}catch(l){throw console.error(l),new dr(Ct(l),0)}if(a.ok||await Zi(a),s!=null&&s.noResolveJson)return a;try{return await a.json()}catch(l){await Zi(l)}}function pt(e){var t;let n=null;tp(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=Ch(e.expires_in)));const s=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:s},error:null}}function eo(e){const t=pt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(t.data.weak_password=e.weak_password),t}function wt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Xh(e){return{data:e,error:null}}function Zh(e){const{action_link:t,email_otp:n,hashed_token:s,redirect_to:r,verification_type:i}=e,o=Jh(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:s,redirect_to:r,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function ep(e){return e}function tp(e){return e.access_token&&e.refresh_token&&e.expires_in}var np=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(e);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(e,s[r])&&(n[s[r]]=e[s[r]]);return n};class sp{constructor({url:t="",headers:n={},fetch:s}){this.url=t,this.headers=n,this.fetch=Va(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n="global"){try{return await V(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(s){if(q(s))return{data:null,error:s};throw s}}async inviteUserByEmail(t,n={}){try{return await V(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:wt})}catch(s){if(q(s))return{data:{user:null},error:s};throw s}}async generateLink(t){try{const{options:n}=t,s=np(t,["options"]),r=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(r.new_email=s==null?void 0:s.newEmail,delete r.newEmail),await V(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:Zh,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(q(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await V(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:wt})}catch(n){if(q(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,s,r,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await V(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(i=(r=t==null?void 0:t.perPage)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:""},xform:ep});if(c.error)throw c.error;const f=await c.json(),h=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(b=>{const S=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(b.split(";")[1].split("=")[1]);u[`${x}Page`]=S}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(q(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await V(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:wt})}catch(n){if(q(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){try{return await V(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:wt})}catch(s){if(q(s))return{data:{user:null},error:s};throw s}}async deleteUser(t,n=!1){try{return await V(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:wt})}catch(s){if(q(s))return{data:{user:null},error:s};throw s}}async _listFactors(t){try{const{data:n,error:s}=await V(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:n,error:s}}catch(n){if(q(n))return{data:null,error:n};throw n}}async _deleteFactor(t){try{return{data:await V(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(q(n))return{data:null,error:n};throw n}}}const rp={getItem:e=>$n()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{$n()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{$n()&&globalThis.localStorage.removeItem(e)}};function to(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function ip(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Kt={debug:!!(globalThis&&$n()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class za extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class op extends za{}async function ap(e,t,n){Kt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const s=new globalThis.AbortController;return t>0&&setTimeout(()=>{s.abort(),Kt.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async r=>{if(r){Kt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,r.name);try{return await n()}finally{Kt.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,r.name)}}else{if(t===0)throw Kt.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new op(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Kt.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}ip();const lp={url:Ph,storageKey:Oh,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Rh,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},vn=30*1e3,no=3;async function so(e,t,n){return await n()}class Bn{constructor(t){var n,s;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Bn.nextInstanceID,Bn.nextInstanceID+=1,this.instanceID>0&&Je()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},lp),t);if(this.logDebugMessages=!!r.debug,typeof r.debug=="function"&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new sp({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=Va(r.fetch),this.lock=r.lock||so,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:Je()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=ap:this.lock=so,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?r.storage?this.storage=r.storage:$n()?this.storage=rp:(this.memoryStorage={},this.storage=to(this.memoryStorage)):(this.memoryStorage={},this.storage=to(this.memoryStorage)),Je()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Ba}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=$h(window.location.href);let s="none";if(this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce"),Je()&&this.detectSessionInUrl&&s!=="none"){const{data:r,error:i}=await this._getSessionFromURL(n,s);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Wh(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=r;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return q(n)?{error:n}:{error:new Ka("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,s,r;try{const i=await V(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.captchaToken}},xform:pt}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(q(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,s,r;try{let i;if("email"in t){const{email:c,password:f,options:h}=t;let g=null,b=null;this.flowType==="pkce"&&([g,b]=await Ht(this.storage,this.storageKey)),i=await V(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:c,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:g,code_challenge_method:b},xform:pt})}else if("phone"in t){const{phone:c,password:f,options:h}=t;i=await V(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:f,data:(s=h==null?void 0:h.data)!==null&&s!==void 0?s:{},channel:(r=h==null?void 0:h.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:pt})}else throw new Zn("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(q(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:a}=t;n=await V(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:eo})}else if("phone"in t){const{phone:i,password:o,options:a}=t;n=await V(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:eo})}else throw new Zn("You must provide either an email or phone number and a password");const{data:s,error:r}=n;return r?{data:{user:null,session:null},error:r}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new qs}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:r})}catch(n){if(q(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,s,r,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(r=t.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const n=await Yn(this.storage,`${this.storageKey}-code-verifier`),[s,r]=(n??"").split("/");try{const{data:i,error:o}=await V(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:s},xform:pt});if(await Xn(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new qs}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:r??null}),error:o})}catch(i){if(q(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:s,token:r,access_token:i,nonce:o}=t,a=await V(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:r,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:pt}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new qs}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(n){if(q(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,s,r,i,o;try{if("email"in t){const{email:a,options:l}=t;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Ht(this.storage,this.storageKey));const{error:f}=await V(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:a,options:l}=t,{data:u,error:c}=await V(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new Zn("You must provide either an email or phone number.")}catch(a){if(q(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var n,s;try{let r,i;"options"in t&&(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(s=t.options)===null||s===void 0?void 0:s.captchaToken);const{data:o,error:a}=await V(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:r,xform:pt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(r){if(q(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(t){var n,s,r;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Ht(this.storage,this.storageKey)),await V(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((r=t==null?void 0:t.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Xh})}catch(i){if(q(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:s}=t;if(s)throw s;if(!n)throw new ht;const{error:r}=await V(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:r}})}catch(t){if(q(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:s,type:r,options:i}=t,{error:o}=await V(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:r,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:s,type:r,options:i}=t,{data:o,error:a}=await V(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:r,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Zn("You must provide either an email or phone number and a type")}catch(n){if(q(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Yn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const s=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",t.expires_at),!s){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:t},error:null}}const{session:r,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await V(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:wt}):await this._useSession(async n=>{var s,r,i;const{data:o,error:a}=n;if(a)throw a;return!(!((s=o.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ht}:await V(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0,xform:wt})})}catch(n){if(q(n))return zh(n)&&(await this._removeSession(),await Xn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async s=>{const{data:r,error:i}=s;if(i)throw i;if(!r.session)throw new ht;const o=r.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await Ht(this.storage,this.storageKey));const{data:u,error:c}=await V(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:wt});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(s){if(q(s))return{data:{user:null},error:s};throw s}}_decodeJWT(t){return Qi(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ht;const n=Date.now()/1e3;let s=n,r=!0,i=null;const o=Qi(t.access_token);if(o.exp&&(s=o.exp,r=s<=n),r){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(q(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var s;if(!t){const{data:o,error:a}=n;if(a)throw a;t=(s=o.session)!==null&&s!==void 0?s:void 0}if(!(t!=null&&t.refresh_token))throw new ht;const{session:r,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(q(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Je())throw new es("No browser detected.");if(t.error||t.error_description||t.error_code)throw new es(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Yi("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new es("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Yi("No code detected.");const{data:j,error:A}=await this._exchangeCodeForSession(t.code);if(A)throw A;const P=new URL(window.location.href);return P.searchParams.delete("code"),window.history.replaceState(window.history.state,"",P.toString()),{data:{session:j.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:r,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=t;if(!i||!a||!o||!u)throw new es("No session defined in URL");const c=Math.round(Date.now()/1e3),f=parseInt(a);let h=c+f;l&&(h=parseInt(l));const g=h-c;g*1e3<=vn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${f}s`);const b=h-f;c-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,h,c):c-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,h,c);const{data:S,error:x}=await this._getUser(i);if(x)throw x;const $={provider_token:s,provider_refresh_token:r,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:$,redirectType:t.type},error:null}}catch(s){if(q(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Yn(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:r,error:i}=n;if(i)return{error:i};const o=(s=r.session)===null||s===void 0?void 0:s.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(Kh(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await Xn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=Ah(),s={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(t){return await this._useSession(async n=>{var s,r;try{const{data:{session:i},error:o}=n;if(o)throw o;await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let s=null,r=null;this.flowType==="pkce"&&([s,r]=await Ht(this.storage,this.storageKey,!0));try{return await V(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:s,code_challenge_method:r,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(q(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(q(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:s,error:r}=await this._useSession(async i=>{var o,a,l,u,c;const{data:f,error:h}=i;if(h)throw h;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await V(this.fetch,"GET",g,{headers:this.headers,jwt:(c=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(r)throw r;return Je()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),{data:{provider:t.provider,url:s==null?void 0:s.url},error:null}}catch(s){if(q(s))return{data:{provider:t.provider,url:null},error:s};throw s}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var s,r;const{data:i,error:o}=n;if(o)throw o;return await V(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(r=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&r!==void 0?r:void 0})})}catch(n){if(q(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await Dh(async r=>(r>0&&await Lh(200*Math.pow(2,r-1)),this._debug(n,"refreshing attempt",r),await V(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:pt})),(r,i)=>{const o=200*Math.pow(2,r);return i&&Vs(i)&&Date.now()+o-s<vn})}catch(s){if(this._debug(n,"error",s),q(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",s),Je()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:t,url:s},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Yn(this.storage,this.storageKey);if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const r=Math.round(Date.now()/1e3),i=((t=s.expires_at)!==null&&t!==void 0?t:1/0)<r+Gi;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Gi}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Vs(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,s;if(!t)throw new ht;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new ks;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new ht;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(r,"error",i),q(i)){const o={session:null,error:i};return Vs(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(i),i}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(t,n,s=!0){const r=`#_notifyAllSubscribers(${t})`;this._debug(r,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(r,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Ha(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Xn(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Je()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),vn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((s.expires_at*1e3-t)/vn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${vn}ms, refresh threshold is ${no} ticks`),r<=no&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof za)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Je()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,s){const r=[`provider=${encodeURIComponent(n)}`];if(s!=null&&s.redirectTo&&r.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&r.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[i,o]=await Ht(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});r.push(a.toString())}if(s!=null&&s.queryParams){const i=new URLSearchParams(s.queryParams);r.push(i.toString())}return s!=null&&s.skipBrowserRedirect&&r.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${t}?${r.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var s;const{data:r,error:i}=n;return i?{data:null,error:i}:await V(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(s=r==null?void 0:r.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(q(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var s,r;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:u}=await V(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((r=l==null?void 0:l.totp)===null||r===void 0)&&r.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(q(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:r,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:a}=await V(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(s=r==null?void 0:r.session)===null||s===void 0?void 0:s.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(q(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:r,error:i}=n;return i?{data:null,error:i}:await V(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(s=r==null?void 0:r.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(q(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:s}=await this._challenge({factorId:t.factorId});return s?{data:null,error:s}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const s=(t==null?void 0:t.factors)||[],r=s.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=s.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:s,totp:r,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,s;const{data:{session:r},error:i}=t;if(i)return{data:null,error:i};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(r.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((s=(n=r.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}}Bn.nextInstanceID=0;const cp=Bn;class up extends cp{constructor(t){super(t)}}var fp=function(e,t,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(s.next(c))}catch(f){o(f)}}function l(c){try{u(s.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((s=s.apply(e,t||[])).next())})};class dp{constructor(t,n,s){var r,i,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=kh(t);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:_h,realtime:bh,auth:Object.assign(Object.assign({},yh),{storageKey:l}),global:mh},c=Th(s??{},u);this.storageKey=(r=c.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=Eh(n,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new Ud(`${a}/rest/v1`,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),c.accessToken||this._listenForAuthEvents()}get functions(){return new xd(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new hh(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},s={}){return this.rest.rpc(t,n,s)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return fp(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(n=(t=s.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:s,storage:r,storageKey:i,flowType:o,lock:a,debug:l},u,c){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new up({url:this.authUrl,headers:Object.assign(Object.assign({},f),u),storageKey:i,autoRefreshToken:t,persistSession:n,detectSessionInUrl:s,storage:r,flowType:o,lock:a,debug:l,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Zd(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,s)=>{this._handleTokenChanged(n,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(t,n,s){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==s?this.changedAccessToken=s:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const hp=(e,t,n)=>new dp(e,t,n),Wa=hp("https://coydypbyhlqsxwnkpubs.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNveWR5cGJ5aGxxc3h3bmtwdWJzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mzc4NDEyNzIsImV4cCI6MjA1MzQxNzI3Mn0.72RjyUwTgFtTx9cSe9-GDadzUJgY1XWAnpodsZ9VuEw"),pp=async e=>{const{data:t,error:n}=await Wa.from("form_submissions").insert([e]);if(n)throw n;return t},gp=async e=>{try{await Wa.from("error_logs").insert([{error:e}])}catch{}},mp={class:"mt-4 lg:mt-8 w-full"},_p={class:"mt-4 lg:mt-8 w-full"},yp={class:"mt-4 lg:mt-8 w-full"},bp=he({__name:"FormComponent",setup(e){const t=Gs({fullName:"",selectedMenu:"",specialRequest:""}),n=Gs({fullName:!1,selectedMenu:!1});async function s(){if(n.value.fullName=!t.value.fullName.trim(),n.value.selectedMenu=!t.value.selectedMenu,!n.value.fullName&&!n.value.selectedMenu)try{await pp({full_name:t.value.fullName,menu_choice:t.value.selectedMenu,special_request:t.value.specialRequest}),Ja.push({name:"confirmation"})}catch(r){await gp(JSON.stringify(r)),console.error(r)}}return(r,i)=>(Y(),le("form",{onSubmit:hu(s,["prevent"]),class:"space-y-4 mt-16 w-full flex flex-col items-center"},[Q("div",mp,[K(rd,{modelValue:t.value.fullName,"onUpdate:modelValue":i[0]||(i[0]=o=>t.value.fullName=o),error:n.value.fullName},null,8,["modelValue","error"])]),Q("div",_p,[K(gd,{modelValue:t.value.selectedMenu,"onUpdate:modelValue":i[1]||(i[1]=o=>t.value.selectedMenu=o),error:n.value.selectedMenu},null,8,["modelValue","error"])]),Q("div",yp,[K(md,{modelValue:t.value.specialRequest,"onUpdate:modelValue":i[2]||(i[2]=o=>t.value.specialRequest=o)},null,8,["modelValue"])]),K(Pa,{type:"submit",class:"mt-20 w-48"},{default:Xe(()=>i[3]||(i[3]=[Or("J'y participe")])),_:1})],32))}}),wp=he({__name:"FormView",setup(e){return(t,n)=>(Y(),Ue(Ir,null,{down:Xe(()=>[K(bp)]),_:1}))}}),vp=he({__name:"ConfirmationView",setup(e){return(t,n)=>(Y(),Ue(Ir,null,{down:Xe(()=>n[0]||(n[0]=[Q("h1",{class:"lg:text-7xl! text-[3.25rem]! text-center mt-24 lg:mt-48 max-w-128"},"Merci!",-1),Q("h1",{class:"lg:text-7xl! text-[3.25rem]! text-center mt-16 max-w-128"}," On a hâte de vous voir! ",-1)])),_:1}))}}),Sp={},Ep={class:"w-full h-[30vh] flex justify-center items-center"};function xp(e,t){return Y(),le("div",Ep,t[0]||(t[0]=[Q("h1",null,"🚧 En construction 🚧",-1)]))}const kp=Dt(Sp,[["render",xp]]),Tp={},Pp={class:"w-full h-[30vh] flex justify-center items-center"};function Op(e,t){return Y(),le("div",Pp,t[0]||(t[0]=[Q("h1",null,"Page introuvable",-1)]))}const Rp=Dt(Tp,[["render",Op]]),Ja=vf({history:Qu("/"),routes:[{path:"/",name:"home",component:ed},{path:"/formulaire",name:"formulaire",component:wp},{path:"/confirmation",name:"confirmation",component:vp},{path:"/faq",name:"faq",component:kp},{path:"/:pathMatch(.*)*",component:Rp}]}),Ga=mu(jf);Ga.use(Ja);Ga.mount("#app");export{kd as g};
